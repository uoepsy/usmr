{"title":"1A: A first look at R & RStudio","markdown":{"yaml":{"title":"1A: A first look at R & RStudio","link-citations":true,"params":{"SHOW_SOLS":true,"TOGGLE":true}},"headingText":"R is a calculator","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nsource('assets/setup.R')\nlibrary(xaringanExtra)\nxaringanExtra::use_panelset()\n```\n\n<!-- __Reading time: 15 minutes__   -->\n\n:::lo\nThis reading:  \n\n- How does R work?\n- How do we use the Rstudio interface? \n\n:::hints\n_The best way to learn R is to use it. Try following along with these reading by typing the code into your R script and running them. You will hopefully get the same output as is presented on this page below each bit of code. If you get errors and warnings, don't panic - read them!_  \n:::\n\n:::\n\n\n\n\n\n\n\nWhen we first open RStudio, we should see something which looks more or less like the image in @fig-freshr, where there are several little windows. We are going to explore what each of these little windows offer by just diving in and starting to do things. \n\n```{r}\n#| echo: false\n#| label: fig-freshr\n#| fig-cap: RStudio, freshly opened\nknitr::include_graphics(\"images/installing_intro/freshr.png\")\n```\n\n\n\nStarting in the left-hand window, you'll notice the blue sign <span style=\"color:blue\">\\></span>.  \nThis is where we R code gets _executed_.  \n  \nType 2+2, and hit Enter &#8629;.  \nYou should discover that R is a calculator - R responds by telling us the answer (`r 2+2`).  \n  \nLet's work through some basic operations (adding, subtracting, etc).\nFor instance, can you work out what R will give you for each of these operations?  \n\n::: {.panelset}\n\n::: {.panel}\n#### Arithmetic operations\n\n|  Code|  |\n|:--|:--|\n|  `2 + 5`|   |\n|  `10 - 4`|  |\n| `2 * 5` |   |\n| `10 - (2 * 5)` |  |\n| `(10 - 2) * 5`  |  |   \n| `10 / 2` |  |\n| `3^2` | <span style=\"opacity:0\"><br>(the `^` symbol is \"to the power of\")</span> |\n\n:::\n::: {.panel}\n#### Show me the output  \n\n|  Code|  Output|\n|:--|:--|\n|  `2 + 5`|  `r 2+5` |\n|  `10 - 4`|  `r 10 - 4` |\n| `2 * 5` | `r 2 * 5`  |\n| `10 - (2 * 5)` | `r 10 - (2 * 5)`  |\n| `(10 - 2) * 5`  | `r (10 - 2) * 5` |   \n| `10 / 2` | `r 10 / 2`  |\n| `3^2` | `r 3^2`<br>(the `^` symbol is \"to the power of\") |\n\n:::\n\n:::\n\n:::rtip\n__R can get stuck__  \n\nWhenever you see the blue sign <span style=\"color:blue\">\\></span>, it means R is ready and waiting for you to provide a command.\n\nIf you type `10 +` and press Enter, you'll see that instead of <span style=\"color:blue\">\\></span> you are left with <span style=\"color:blue\">\\+</span>.\nThis means that R is waiting for more.  \n\nEither give it more (finish the command), or cancel the command by pressing the Escape key on your keyboard. \n:::\n\n\nAs well as performing arithmetic calculations, we can _ask_ R things for which the answer is TRUE or FALSE, such as \"Is 3 less than 5?\". If we type `3 < 5` and press Enter, then R should tell us that the statement we gave it is `r 3<5`.  \n\n\nThese computations don't return numbers, but instead return __logical__ values. There are few operators that we need to learn about here:  \n\n+ __Equality/Inequality__: We use the symbols `==` to mean \"is equal to\", and the symbols `!=` for \"is not equal to\".  \n+ __Less Than/Greater Than__: To determine whether a value is less/greater than another value, we have our typical symbols `<` and `>`. We also have `<=` and `>=` when we want to include \"less/greater than _or equal to_\".  \n\nWe can combine these with `&` for \"and\", `|` for \"or\", and `!` for \"not\", to ask R all sorts of things.  \nTry and work out what R should give you for each of these (or try it out yourself!):  \n\n::: {.panelset}\n\n::: {.panel}\n#### Logical operations  \n\n|  Code| <span style=\"opacity:0\">Output</span>| \n|:--|:--|\n| `3 > 5` | |\n| `3 <= 5` | |\n| `3 >= 3` | |\n| `3 == 5` | |\n| `(2 * 5) == 10` | |\n| `(2 * 5) != 11` | |\n| `(2 == 2) & (3 == 4)` | |\n| `(2 == 2) | (3 == 4)` | |\n| `(2 == 2) & !(3 == 4)` | <span style=\"opacity:0\">TRUE</span> |\n\n:::\n::: {.panel}\n#### Show me the output  \n\n|  Code|  Output|\n|:--|:--|\n| `3 > 5` |  `r 3 > 5` |\n| `3 <= 5` | `r 3 <= 5` |\n| `3 >= 3` | `r 3 >= 3` |\n| `3 == 5` | `r 3 == 5` |\n| `(2 * 5) == 10` | `r (2 * 5) == 10` |\n| `(2 * 5) != 11` | `r (2 * 5) != 11` |\n| `(2 == 2) & (3 == 4)` |  `r (2 == 2) & (3 == 4)` |\n| `(2 == 2) | (3 == 4)` |  `r (2 == 2) | (3 == 4)` |\n| `(2 == 2) & !(3 == 4)` | `r (2 == 2) & !(3 == 4)` |\n\n\n\n:::\n    \n:::\n\n\n\n:::sticky\n__FALSE and TRUE as 0 and 1__  \n\nIt will become useful to think of these logical values (TRUE and FALSE) as also having intrinsic numeric values of 0 and 1.  \nThis is how R will treat them if you ask it to do something that requires the values to be numeric.  \n\nFor example, the code `TRUE + 3` will return `4`, and `FALSE + 3` will return `3`. \n\n:::\n\n\n\n\n\n\n\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n```{r}\n#| echo: false\nx <- 5\n```\n\n# R has a memory\n\nWe can also store things in R's memory, and to do that we just need to give them a name.  \n  \nType `x <- 5` and press Enter.  \n  \nWhat has happened? We don't get given an answer like we did with calculations such as `2 + 4`. What we've done is stored in R's memory something named `x` which has the value `5`. We can now refer to the name and it will give us the value!  \n\nIf we now type `x` and press Enter, it gives us whatever we assigned to the name \"x\". So it gives us the number 5.  \n```{r}\nx\n```\n\nWhat is going to happen when we type `x * 3`? It will give us 15!  \n\n:::rtip\n__Assigning names to things in R__   \n\nThe `<-` symbol, pronounced arrow, is what we use to _assign_ a value to a named object:\n  \n<center>\n`name <- value`\n</center>  \n\n:::\n\nNote, there are a few rules about names in R:  \n\n1. No spaces - spaces _inside_ a name are not allowed (the spaces around the `<-` don't matter):  \n    `lucky_number <- 5` &#10004;\n    `lucky number <- 5` &#10060;  \n    \n1. Names must start with a letter:  \n    `lucky_number <- 5` &#10004;\n    `1lucky_number <- 5` &#10060;  \n    \n1. Case sensitive:   \n    `lucky_number` is different from `Lucky_Number`   \n    \n1. here is a set of words you can't use as names, including: _if, else, for, in, TRUE, FALSE, NULL, NA, NaN, function_  \n(Don't worry about remembering these, R will tell you if you make the mistake of trying to name a variable after one of these). \n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# The Console and The Environment  \n\nIf you are working along with us, you might have also noticed that something else happened when we executed the code `x <- 5`. \nThe thing we named __x__ with a value of __5__ suddenly appeared in the top-right window. This is known as the __environment__ (@fig-renvir), and it shows everything that we store in R.  \n\n```{r}\n#| label: fig-renvir\n#| echo: false\n#| fig-cap: Assigning names to objects stores them in R's environment.\n\nknitr::include_graphics(\"images/installing_intro/rassign.png\")\n```\n\nSo we've now made use of __two__ of the panes that we see in RStudio: \n\n__Where code is run:__  When we've been writing and running R code (e.g. typing `2+5` or `x<-5` and pressing Enter), we've been doing it in the __\"console\"__.  \nThe console is where R code gets _executed_ (i.e. where our coded instruction to R code is interpreted and acted on), but as we'll see below, it isn't where all R code gets _written_.  \n\n__Where things get stored:__  We've also been learning about how we can store things in R's memory (the __environment__) by assigning a name to them using the `<-` operator. The top-right pane of RStudio shows us the environment, where we can see everything that we have stored in R. Note that this also means we can keep track of what objects we have saved that are available for our use. If we never stored an object named \"peppapig\", then R will give us an error when we do something like:  \n```{r}\n#| error: true\n2*peppapig\n```\n\nNow that we have an idea of what the _console_ and the _environment_ are for, we are well on our way. If you want a silly analogy, the console is like R's mouth, where we feed it things, and the environment is just its memory, where it remembers what things are what. We can see these in @fig-r4panel2. Note however, that the __console__ has been moved down to the bottom-left, as we are introducing a new pane above it. This is where we move to next. \n\n```{r}\n#| label: fig-r4panel2\n#| echo: false\n#| fig-cap: \"RStudio panes: Code is executed in the console, and objects are stored in the environment.\"\n\n\nknitr::include_graphics(\"images/installing_intro/r4panel2.png\")\n```\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# R Scripts and the Editor\n\nWhat if we want to edit our code?\nWhatever we write in the console just disappears upwards. What if we want to change things we did earlier on?  \n\nWhile the console is where code gets _executed_, it doesn't have to be where code gets _written._. We can write and edit our code in a separate place _before_ we then send it to the console to be executed!!  \n\nThe standard place to write and edit things is in an R scipt. We can open one by doing __File > New File > R script__, and a new file will open in the top-left pane of RStudio. The console will be shoved down to the bottom-left.  \n\nIn the R script, we can write code. For instance, we might write: \n\n```{r}\n#| eval: false\nx <- 210\ny <- 15\nx / y\n```\n\nNotice that nothing happens when we write each line. It's not like writing in the console where R tells us the answers. This is because this code is not yet being executed. We haven't actually fed it to R.  \n\nThere are a couple of useful ways we can send the code to R. \n\n- Position your text-cursor (blinking vertical line) on the line of code we wish to run and press __Ctrl+Enter__ (Windows) or __Cmd+Enter__ (MacOS)  \n- Position your text-cursor (blinking vertical line) on the line of code we wish to run and press the \"Run\" button in the top right of the script. \n\nWhen we do this, the line of code will be sent down to the console, where it will be executed, and R will do it's thing.  \nFor example, if we had sent the line `x <- 210` down to the console, R would then store the number 210 with the name __x__ in our environment (as in @fig-reditor). Additionally, it will move the text-cursor to the next line, so we can just press Ctrl+Enter again to run the next line (and so on.). \n```{r}\n#| label: fig-reditor\n#| echo: false\n#| fig-cap: Code written in the script can be sent down to the console, where it is executed. In this example, the execution of the code stores an object in the environment. \n\n\nknitr::include_graphics(\"images/installing_intro/reditor.png\")\n```\n\nBy writing our code in a file such as an R script _before_ sending it to the console we can __edit__, __save__, and __share__ our code. This makes it so much more useful than just using the console (which is more like writing on scratch paper, where we can't keep anything).  \n\nFor instance, let's say we made a mistake earlier, and instead of \"x\" being `210`, it should have been `211`. Well, we can just edit the script, and re-run it.  \n\n:::rtip\n__Regularly save your scripts!__ \n\nTo save an R script that is open, we just \n    \n+ File > Save (or __Ctrl+S__) \n+ Locate to the folder where we want to save the file.  \n+ give it an appropriate name, and click save.  \n    \n**NOTE:** When you save R script files, they terminate with a .R extension.\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n#### Looking ahead to RMarkdown\n<!-- ![Artwork by \\\\@allison_horst.](images/ahorst/rmarkdown_wizards.png){#fig-ahorstrmd} -->\n\nIn addition to R scripts, there is another type of document we can create, known as \"Rmarkdown\".\n\nRmarkdown documents combine the analytical power of R and the utility of a text-processor. \nWe can have one document which contains all of our analysis as well as our written text, and can be _compiled_ into a nicely formatted report. This saves us doing analysis in R and copying results across to Microsoft Word. It ensures our report accurately reflects our analysis. Everything that you're reading now has all been written in Rmarkdown!  \n\n![An example RMarkdown document](images/installing_intro/rmd.png){#fig-rmd1}\n\n**We're going to learn more about Rmarkdown documents and how to write them later on**, but the broad idea is that we can writing normal text interspersed with \"code-chunks\" (i.e., chunks of code!). RMarkdown documents looks much like an R script, only the code is contained within the grey-boxes, and text is written in between (see @fig-rmd1). RMarkdown documents can then be compiled to create a lovely __.pdf__, __.html__, or __.docx__ file.  \n```{r}\n#| label: fig-rmd2\n#| echo: false\n#| fig-cap: \"RMarkdown Workflow\"\nknitr::include_graphics(\"images/installing_intro/rmdworkflow.png\")\n```\n\n:::\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# The Four RStudio Panes\nWe've now seen almost all the different panes in RStudio:  \n\n<div style=\"max-width:49%;display:inline-block;vertical-align:top\">\n\n+ The __console__ is where R code gets executed\n+ The __environment__ is R's memory, you can _assign_ something a name and store it here, and then refer to it by name in your code.\n+ The __editor__ is where you can write and edit R code in R scripts and Rmarkdown documents. You can then send this to the console for it to be executed.  \n\n</div>\n<div style=\"max-width:49%;display:inline-block;vertical-align:middle;\">\n```{r}\n#| label: fig-4panes\n#| echo: false\n#| fig-cap: \"The Four Panes of RStudio\"\nknitr::include_graphics(\"images/installing_intro/rstudio-panes.png\")\n```\n</div>\n\n\nWe are yet to use the bottom-right window, but this is an easy one to explain. It is where we can see any __plots__ that we create, where we can browse our __files__, and where we can ask R for some __help__ documentation. We'll make more use of this later on, but for now try typing `plot(x = 4, y = 2)` into the console and seeing what happens.  \n  \n<br>\n\n:::rtip\n__Projects and file organisation__  \n\nWe're not going to speak too much about this here but one key thing to remember is that R is working _from_ a specific place in your computer. You can find out where by typing `getwd()` into the console.  \n\nAn easy way to keep things organised is to set up an \"R project\". This basically associates a specific folder on your computer with your working in R, and it means it will automatically look for things in that folder.  \n\nWe recommend that you start a project for this course (call it something like \"usmr\"). This will the be project that you open whenever you work on this course (RStudio will usually re-open the previous project you were working on when you closed it).  \nWith that project open, we suggest that you start a new script for each week, in which you complete your exercises, and which you then _remember to save!_\n\nIf you haven't already, we suggest you start an R project by using (in the top menu of RStudio), __File > New Project__ and following the instructions. It will create a folder on your computer somewhere of your choosing, and you will now notice that if you click in the \"Files\" tab in the bottom right pane of RStudio, you can see the project folder!  \n\n:::\n\n\n\n\n\n\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Good Habits  \n\nAlong with regular saving of work and organising your files, it will be very useful in the long-run if we get used to always \"starting fresh\" when we open R.  \n\nWe need to start thinking of the code that we write in an R script as a set of consecutive instructions that we can give to R in order to achieve our goal. It's just a blank slate on which we write (in language R understands) \"do this. now do this. now do this.. \" and so on.  \n\nThis means that the script contains all the information needed.  \nSo we can now:\n\n1. Empty our environment\n2. Restart R\n3. Run all the code in our script (highlight multiple lines of code to run them all at once)  \n\nand we're back to where we are! This is great for when we make mistakes (we're going to make many many mistakes!), because we can just clear everything, start at the top of our script, and work downwards to figure out what has gone wrong.  \n\n:::rtip\n__Tidying up__  \n\n+ To empty our environment, we can click on the little broomstick icon:   ![](images/installing_intro/rbroom.png).  \n\n+ To restart the R Session (not always necessary, but good practice) in the top menu, we choose __Session > Restart R__ (or press Ctrl+Shift+F10).  \n\n:::\n\n\nThe other very useful thing that we can do in a script is to write comments for ourselves or for others. By starting a line with a `#`, R will know that that entire line is not code, and so it won't try to _do_ anything with it. For instance, if we write these lines in our script, and send them both down to the console, nothing happens for the first line:  \n\n::: {.panelset}\n\n::: {.panel}\n#### Comments  \n\n```{r}\n# The line below will add 5 to 2. \n2+5\n```\n\n:::\n::: {.panel}\n#### If we forget the `#`\n\n```{r eval=F}\nThe line below will add 5 to 2. \n2+5\n```\n<p style=\"color:red\">\nError: unexpected symbol in \"The line\"\n</p>\n\n:::\n\n    \n:::\n\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Useful Settings\n\nBelow are a couple of our recommended settings for you to change as you begin your journey in R.\nAfter you've changed them, take a 5 minute break before moving on to the next reading.  \n\n:::rtip\n__1. Clean environments__  \n\nAs you use R more, you will store lots of things with different names. Throughout this course alone, you'll probably name hundreds of different things.\nThis could quickly get messy within our project.\n  \nWe can make it so that we have a clean environment each time you open RStudio. This will be really handy.\n\n\n1. In the top menu, click __Tools > Global Options...__\n1. Then, _untick_ the box for \"Restore .RData into workspace at startup\", and change \"Save workspace to .RData on exit\" to _Never_:\n\n![](images/installing_intro/renvsettings.png)\n:::\n\n:::rtip\n__2. Wrapping code__  \n\nIn the editor, you might end up with a line of code which is really long, but you can make RStudio 'wrap' the line, so that you can see it all, without having to scroll:\n```{r eval=FALSE}\nx <- 1+2+3+6+3+45+8467+356+8565+34+34+657+6756+456+456+54+3+78+3+3476+8+4+67+456+567+3+34575+45+2+6+9+5+6\n```\n\n1. In the top menu, click __Tools > Global Options...__\n1. In the left menu of the box, click \"Code\"\n1. _Tick_ the box for \"Soft-wrap R source files\"\n:::\n\n\n<div class=\"tocify-extend-page\" data-unique=\"tocify-extend-page\" style=\"height: 0;\"></div>\n\n\n\n\n<div class=\"tocify-extend-page\" data-unique=\"tocify-extend-page\" style=\"height: 0;\"></div>\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nsource('assets/setup.R')\nlibrary(xaringanExtra)\nxaringanExtra::use_panelset()\n```\n\n<!-- __Reading time: 15 minutes__   -->\n\n:::lo\nThis reading:  \n\n- How does R work?\n- How do we use the Rstudio interface? \n\n:::hints\n_The best way to learn R is to use it. Try following along with these reading by typing the code into your R script and running them. You will hopefully get the same output as is presented on this page below each bit of code. If you get errors and warnings, don't panic - read them!_  \n:::\n\n:::\n\n\n\n\n\n# R is a calculator\n\n\nWhen we first open RStudio, we should see something which looks more or less like the image in @fig-freshr, where there are several little windows. We are going to explore what each of these little windows offer by just diving in and starting to do things. \n\n```{r}\n#| echo: false\n#| label: fig-freshr\n#| fig-cap: RStudio, freshly opened\nknitr::include_graphics(\"images/installing_intro/freshr.png\")\n```\n\n\n\nStarting in the left-hand window, you'll notice the blue sign <span style=\"color:blue\">\\></span>.  \nThis is where we R code gets _executed_.  \n  \nType 2+2, and hit Enter &#8629;.  \nYou should discover that R is a calculator - R responds by telling us the answer (`r 2+2`).  \n  \nLet's work through some basic operations (adding, subtracting, etc).\nFor instance, can you work out what R will give you for each of these operations?  \n\n::: {.panelset}\n\n::: {.panel}\n#### Arithmetic operations\n\n|  Code|  |\n|:--|:--|\n|  `2 + 5`|   |\n|  `10 - 4`|  |\n| `2 * 5` |   |\n| `10 - (2 * 5)` |  |\n| `(10 - 2) * 5`  |  |   \n| `10 / 2` |  |\n| `3^2` | <span style=\"opacity:0\"><br>(the `^` symbol is \"to the power of\")</span> |\n\n:::\n::: {.panel}\n#### Show me the output  \n\n|  Code|  Output|\n|:--|:--|\n|  `2 + 5`|  `r 2+5` |\n|  `10 - 4`|  `r 10 - 4` |\n| `2 * 5` | `r 2 * 5`  |\n| `10 - (2 * 5)` | `r 10 - (2 * 5)`  |\n| `(10 - 2) * 5`  | `r (10 - 2) * 5` |   \n| `10 / 2` | `r 10 / 2`  |\n| `3^2` | `r 3^2`<br>(the `^` symbol is \"to the power of\") |\n\n:::\n\n:::\n\n:::rtip\n__R can get stuck__  \n\nWhenever you see the blue sign <span style=\"color:blue\">\\></span>, it means R is ready and waiting for you to provide a command.\n\nIf you type `10 +` and press Enter, you'll see that instead of <span style=\"color:blue\">\\></span> you are left with <span style=\"color:blue\">\\+</span>.\nThis means that R is waiting for more.  \n\nEither give it more (finish the command), or cancel the command by pressing the Escape key on your keyboard. \n:::\n\n\nAs well as performing arithmetic calculations, we can _ask_ R things for which the answer is TRUE or FALSE, such as \"Is 3 less than 5?\". If we type `3 < 5` and press Enter, then R should tell us that the statement we gave it is `r 3<5`.  \n\n\nThese computations don't return numbers, but instead return __logical__ values. There are few operators that we need to learn about here:  \n\n+ __Equality/Inequality__: We use the symbols `==` to mean \"is equal to\", and the symbols `!=` for \"is not equal to\".  \n+ __Less Than/Greater Than__: To determine whether a value is less/greater than another value, we have our typical symbols `<` and `>`. We also have `<=` and `>=` when we want to include \"less/greater than _or equal to_\".  \n\nWe can combine these with `&` for \"and\", `|` for \"or\", and `!` for \"not\", to ask R all sorts of things.  \nTry and work out what R should give you for each of these (or try it out yourself!):  \n\n::: {.panelset}\n\n::: {.panel}\n#### Logical operations  \n\n|  Code| <span style=\"opacity:0\">Output</span>| \n|:--|:--|\n| `3 > 5` | |\n| `3 <= 5` | |\n| `3 >= 3` | |\n| `3 == 5` | |\n| `(2 * 5) == 10` | |\n| `(2 * 5) != 11` | |\n| `(2 == 2) & (3 == 4)` | |\n| `(2 == 2) | (3 == 4)` | |\n| `(2 == 2) & !(3 == 4)` | <span style=\"opacity:0\">TRUE</span> |\n\n:::\n::: {.panel}\n#### Show me the output  \n\n|  Code|  Output|\n|:--|:--|\n| `3 > 5` |  `r 3 > 5` |\n| `3 <= 5` | `r 3 <= 5` |\n| `3 >= 3` | `r 3 >= 3` |\n| `3 == 5` | `r 3 == 5` |\n| `(2 * 5) == 10` | `r (2 * 5) == 10` |\n| `(2 * 5) != 11` | `r (2 * 5) != 11` |\n| `(2 == 2) & (3 == 4)` |  `r (2 == 2) & (3 == 4)` |\n| `(2 == 2) | (3 == 4)` |  `r (2 == 2) | (3 == 4)` |\n| `(2 == 2) & !(3 == 4)` | `r (2 == 2) & !(3 == 4)` |\n\n\n\n:::\n    \n:::\n\n\n\n:::sticky\n__FALSE and TRUE as 0 and 1__  \n\nIt will become useful to think of these logical values (TRUE and FALSE) as also having intrinsic numeric values of 0 and 1.  \nThis is how R will treat them if you ask it to do something that requires the values to be numeric.  \n\nFor example, the code `TRUE + 3` will return `4`, and `FALSE + 3` will return `3`. \n\n:::\n\n\n\n\n\n\n\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n```{r}\n#| echo: false\nx <- 5\n```\n\n# R has a memory\n\nWe can also store things in R's memory, and to do that we just need to give them a name.  \n  \nType `x <- 5` and press Enter.  \n  \nWhat has happened? We don't get given an answer like we did with calculations such as `2 + 4`. What we've done is stored in R's memory something named `x` which has the value `5`. We can now refer to the name and it will give us the value!  \n\nIf we now type `x` and press Enter, it gives us whatever we assigned to the name \"x\". So it gives us the number 5.  \n```{r}\nx\n```\n\nWhat is going to happen when we type `x * 3`? It will give us 15!  \n\n:::rtip\n__Assigning names to things in R__   \n\nThe `<-` symbol, pronounced arrow, is what we use to _assign_ a value to a named object:\n  \n<center>\n`name <- value`\n</center>  \n\n:::\n\nNote, there are a few rules about names in R:  \n\n1. No spaces - spaces _inside_ a name are not allowed (the spaces around the `<-` don't matter):  \n    `lucky_number <- 5` &#10004;\n    `lucky number <- 5` &#10060;  \n    \n1. Names must start with a letter:  \n    `lucky_number <- 5` &#10004;\n    `1lucky_number <- 5` &#10060;  \n    \n1. Case sensitive:   \n    `lucky_number` is different from `Lucky_Number`   \n    \n1. here is a set of words you can't use as names, including: _if, else, for, in, TRUE, FALSE, NULL, NA, NaN, function_  \n(Don't worry about remembering these, R will tell you if you make the mistake of trying to name a variable after one of these). \n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# The Console and The Environment  \n\nIf you are working along with us, you might have also noticed that something else happened when we executed the code `x <- 5`. \nThe thing we named __x__ with a value of __5__ suddenly appeared in the top-right window. This is known as the __environment__ (@fig-renvir), and it shows everything that we store in R.  \n\n```{r}\n#| label: fig-renvir\n#| echo: false\n#| fig-cap: Assigning names to objects stores them in R's environment.\n\nknitr::include_graphics(\"images/installing_intro/rassign.png\")\n```\n\nSo we've now made use of __two__ of the panes that we see in RStudio: \n\n__Where code is run:__  When we've been writing and running R code (e.g. typing `2+5` or `x<-5` and pressing Enter), we've been doing it in the __\"console\"__.  \nThe console is where R code gets _executed_ (i.e. where our coded instruction to R code is interpreted and acted on), but as we'll see below, it isn't where all R code gets _written_.  \n\n__Where things get stored:__  We've also been learning about how we can store things in R's memory (the __environment__) by assigning a name to them using the `<-` operator. The top-right pane of RStudio shows us the environment, where we can see everything that we have stored in R. Note that this also means we can keep track of what objects we have saved that are available for our use. If we never stored an object named \"peppapig\", then R will give us an error when we do something like:  \n```{r}\n#| error: true\n2*peppapig\n```\n\nNow that we have an idea of what the _console_ and the _environment_ are for, we are well on our way. If you want a silly analogy, the console is like R's mouth, where we feed it things, and the environment is just its memory, where it remembers what things are what. We can see these in @fig-r4panel2. Note however, that the __console__ has been moved down to the bottom-left, as we are introducing a new pane above it. This is where we move to next. \n\n```{r}\n#| label: fig-r4panel2\n#| echo: false\n#| fig-cap: \"RStudio panes: Code is executed in the console, and objects are stored in the environment.\"\n\n\nknitr::include_graphics(\"images/installing_intro/r4panel2.png\")\n```\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# R Scripts and the Editor\n\nWhat if we want to edit our code?\nWhatever we write in the console just disappears upwards. What if we want to change things we did earlier on?  \n\nWhile the console is where code gets _executed_, it doesn't have to be where code gets _written._. We can write and edit our code in a separate place _before_ we then send it to the console to be executed!!  \n\nThe standard place to write and edit things is in an R scipt. We can open one by doing __File > New File > R script__, and a new file will open in the top-left pane of RStudio. The console will be shoved down to the bottom-left.  \n\nIn the R script, we can write code. For instance, we might write: \n\n```{r}\n#| eval: false\nx <- 210\ny <- 15\nx / y\n```\n\nNotice that nothing happens when we write each line. It's not like writing in the console where R tells us the answers. This is because this code is not yet being executed. We haven't actually fed it to R.  \n\nThere are a couple of useful ways we can send the code to R. \n\n- Position your text-cursor (blinking vertical line) on the line of code we wish to run and press __Ctrl+Enter__ (Windows) or __Cmd+Enter__ (MacOS)  \n- Position your text-cursor (blinking vertical line) on the line of code we wish to run and press the \"Run\" button in the top right of the script. \n\nWhen we do this, the line of code will be sent down to the console, where it will be executed, and R will do it's thing.  \nFor example, if we had sent the line `x <- 210` down to the console, R would then store the number 210 with the name __x__ in our environment (as in @fig-reditor). Additionally, it will move the text-cursor to the next line, so we can just press Ctrl+Enter again to run the next line (and so on.). \n```{r}\n#| label: fig-reditor\n#| echo: false\n#| fig-cap: Code written in the script can be sent down to the console, where it is executed. In this example, the execution of the code stores an object in the environment. \n\n\nknitr::include_graphics(\"images/installing_intro/reditor.png\")\n```\n\nBy writing our code in a file such as an R script _before_ sending it to the console we can __edit__, __save__, and __share__ our code. This makes it so much more useful than just using the console (which is more like writing on scratch paper, where we can't keep anything).  \n\nFor instance, let's say we made a mistake earlier, and instead of \"x\" being `210`, it should have been `211`. Well, we can just edit the script, and re-run it.  \n\n:::rtip\n__Regularly save your scripts!__ \n\nTo save an R script that is open, we just \n    \n+ File > Save (or __Ctrl+S__) \n+ Locate to the folder where we want to save the file.  \n+ give it an appropriate name, and click save.  \n    \n**NOTE:** When you save R script files, they terminate with a .R extension.\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n#### Looking ahead to RMarkdown\n<!-- ![Artwork by \\\\@allison_horst.](images/ahorst/rmarkdown_wizards.png){#fig-ahorstrmd} -->\n\nIn addition to R scripts, there is another type of document we can create, known as \"Rmarkdown\".\n\nRmarkdown documents combine the analytical power of R and the utility of a text-processor. \nWe can have one document which contains all of our analysis as well as our written text, and can be _compiled_ into a nicely formatted report. This saves us doing analysis in R and copying results across to Microsoft Word. It ensures our report accurately reflects our analysis. Everything that you're reading now has all been written in Rmarkdown!  \n\n![An example RMarkdown document](images/installing_intro/rmd.png){#fig-rmd1}\n\n**We're going to learn more about Rmarkdown documents and how to write them later on**, but the broad idea is that we can writing normal text interspersed with \"code-chunks\" (i.e., chunks of code!). RMarkdown documents looks much like an R script, only the code is contained within the grey-boxes, and text is written in between (see @fig-rmd1). RMarkdown documents can then be compiled to create a lovely __.pdf__, __.html__, or __.docx__ file.  \n```{r}\n#| label: fig-rmd2\n#| echo: false\n#| fig-cap: \"RMarkdown Workflow\"\nknitr::include_graphics(\"images/installing_intro/rmdworkflow.png\")\n```\n\n:::\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# The Four RStudio Panes\nWe've now seen almost all the different panes in RStudio:  \n\n<div style=\"max-width:49%;display:inline-block;vertical-align:top\">\n\n+ The __console__ is where R code gets executed\n+ The __environment__ is R's memory, you can _assign_ something a name and store it here, and then refer to it by name in your code.\n+ The __editor__ is where you can write and edit R code in R scripts and Rmarkdown documents. You can then send this to the console for it to be executed.  \n\n</div>\n<div style=\"max-width:49%;display:inline-block;vertical-align:middle;\">\n```{r}\n#| label: fig-4panes\n#| echo: false\n#| fig-cap: \"The Four Panes of RStudio\"\nknitr::include_graphics(\"images/installing_intro/rstudio-panes.png\")\n```\n</div>\n\n\nWe are yet to use the bottom-right window, but this is an easy one to explain. It is where we can see any __plots__ that we create, where we can browse our __files__, and where we can ask R for some __help__ documentation. We'll make more use of this later on, but for now try typing `plot(x = 4, y = 2)` into the console and seeing what happens.  \n  \n<br>\n\n:::rtip\n__Projects and file organisation__  \n\nWe're not going to speak too much about this here but one key thing to remember is that R is working _from_ a specific place in your computer. You can find out where by typing `getwd()` into the console.  \n\nAn easy way to keep things organised is to set up an \"R project\". This basically associates a specific folder on your computer with your working in R, and it means it will automatically look for things in that folder.  \n\nWe recommend that you start a project for this course (call it something like \"usmr\"). This will the be project that you open whenever you work on this course (RStudio will usually re-open the previous project you were working on when you closed it).  \nWith that project open, we suggest that you start a new script for each week, in which you complete your exercises, and which you then _remember to save!_\n\nIf you haven't already, we suggest you start an R project by using (in the top menu of RStudio), __File > New Project__ and following the instructions. It will create a folder on your computer somewhere of your choosing, and you will now notice that if you click in the \"Files\" tab in the bottom right pane of RStudio, you can see the project folder!  \n\n:::\n\n\n\n\n\n\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Good Habits  \n\nAlong with regular saving of work and organising your files, it will be very useful in the long-run if we get used to always \"starting fresh\" when we open R.  \n\nWe need to start thinking of the code that we write in an R script as a set of consecutive instructions that we can give to R in order to achieve our goal. It's just a blank slate on which we write (in language R understands) \"do this. now do this. now do this.. \" and so on.  \n\nThis means that the script contains all the information needed.  \nSo we can now:\n\n1. Empty our environment\n2. Restart R\n3. Run all the code in our script (highlight multiple lines of code to run them all at once)  \n\nand we're back to where we are! This is great for when we make mistakes (we're going to make many many mistakes!), because we can just clear everything, start at the top of our script, and work downwards to figure out what has gone wrong.  \n\n:::rtip\n__Tidying up__  \n\n+ To empty our environment, we can click on the little broomstick icon:   ![](images/installing_intro/rbroom.png).  \n\n+ To restart the R Session (not always necessary, but good practice) in the top menu, we choose __Session > Restart R__ (or press Ctrl+Shift+F10).  \n\n:::\n\n\nThe other very useful thing that we can do in a script is to write comments for ourselves or for others. By starting a line with a `#`, R will know that that entire line is not code, and so it won't try to _do_ anything with it. For instance, if we write these lines in our script, and send them both down to the console, nothing happens for the first line:  \n\n::: {.panelset}\n\n::: {.panel}\n#### Comments  \n\n```{r}\n# The line below will add 5 to 2. \n2+5\n```\n\n:::\n::: {.panel}\n#### If we forget the `#`\n\n```{r eval=F}\nThe line below will add 5 to 2. \n2+5\n```\n<p style=\"color:red\">\nError: unexpected symbol in \"The line\"\n</p>\n\n:::\n\n    \n:::\n\n\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n# Useful Settings\n\nBelow are a couple of our recommended settings for you to change as you begin your journey in R.\nAfter you've changed them, take a 5 minute break before moving on to the next reading.  \n\n:::rtip\n__1. Clean environments__  \n\nAs you use R more, you will store lots of things with different names. Throughout this course alone, you'll probably name hundreds of different things.\nThis could quickly get messy within our project.\n  \nWe can make it so that we have a clean environment each time you open RStudio. This will be really handy.\n\n\n1. In the top menu, click __Tools > Global Options...__\n1. Then, _untick_ the box for \"Restore .RData into workspace at startup\", and change \"Save workspace to .RData on exit\" to _Never_:\n\n![](images/installing_intro/renvsettings.png)\n:::\n\n:::rtip\n__2. Wrapping code__  \n\nIn the editor, you might end up with a line of code which is really long, but you can make RStudio 'wrap' the line, so that you can see it all, without having to scroll:\n```{r eval=FALSE}\nx <- 1+2+3+6+3+45+8467+356+8565+34+34+657+6756+456+456+54+3+78+3+3476+8+4+67+456+567+3+34575+45+2+6+9+5+6\n```\n\n1. In the top menu, click __Tools > Global Options...__\n1. In the left menu of the box, click \"Code\"\n1. _Tick_ the box for \"Soft-wrap R source files\"\n:::\n\n\n<div class=\"tocify-extend-page\" data-unique=\"tocify-extend-page\" style=\"height: 0;\"></div>\n\n\n\n\n<div class=\"tocify-extend-page\" data-unique=\"tocify-extend-page\" style=\"height: 0;\"></div>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"include-in-header":["assets/toggling.html",{"text":"<link rel=\"stylesheet\" href=\"https://uoepsy.github.io/assets/css/ccfooter.css\" />\n"}],"number-sections":false,"output-file":"01a_R.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","toc_float":true,"code-annotations":"hover","link-citations":true,"theme":["united","assets/style-labs.scss"],"title":"1A: A first look at R & RStudio","params":{"SHOW_SOLS":true,"TOGGLE":true}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}