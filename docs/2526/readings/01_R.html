<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1: A first look at R &amp; RStudio – Linear Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-97338aec0b8b6c6d6887a474ba26a80e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>

function toggle_visibility(id1, id2) {

var e = document.getElementById(id1);

var f = document.getElementById(id2);

e.style.display = ((e.style.display!='none') ? 'none' : 'block');

if(f.classList.contains('jk-circle-right')) {

    f.classList.add('jk-circle-down')

    f.classList.remove('jk-circle-right')

} else {

    f.classList.add('jk-circle-right')

    f.classList.remove('jk-circle-down')

}

}

</script>



<!---<script src="https://kit.fontawesome.com/120b08a6f5.js" crossorigin="anonymous"></script>-->

<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<link href="site_libs/panelset-0.3.0/panelset.css" rel="stylesheet">

<script src="site_libs/panelset-0.3.0/panelset.js"></script>

<link rel="stylesheet" href="https://uoepsy.github.io/assets/css/ccfooter.css">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01_R.html">1: A first look at R &amp; RStudio</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Linear Models</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_R.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1: A first look at R &amp; RStudio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2: More R - Basic Data Skills</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_measurement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3: Measurement &amp; Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4: Curves &amp; Sampling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5: Foundations of Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_inference2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6: Practical Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_chisq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7: Binomial &amp; Chi-Square Tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_revisitnhst.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8: Revisiting NHST</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_covcor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9: Covariance and Correlation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_slr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10: Simple Linear Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zz_wt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">- WalkThrough: Advanced Data Wrangling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_mlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11: Multiple Linear Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_assumptdiag.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12: Assumptions, Diagnostics, and Troubleshooting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_scaling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">13: Centering and Scaling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_catpred.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">14: Categorical Predictors</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#r-is-a-calculator" id="toc-r-is-a-calculator" class="nav-link active" data-scroll-target="#r-is-a-calculator">R is a calculator</a></li>
  <li><a href="#r-has-a-memory" id="toc-r-has-a-memory" class="nav-link" data-scroll-target="#r-has-a-memory">R has a memory</a></li>
  <li><a href="#the-console-and-the-environment" id="toc-the-console-and-the-environment" class="nav-link" data-scroll-target="#the-console-and-the-environment">The Console and The Environment</a></li>
  <li><a href="#r-scripts-and-the-editor" id="toc-r-scripts-and-the-editor" class="nav-link" data-scroll-target="#r-scripts-and-the-editor">R Scripts and the Editor</a></li>
  <li><a href="#the-four-rstudio-panes" id="toc-the-four-rstudio-panes" class="nav-link" data-scroll-target="#the-four-rstudio-panes">The Four RStudio Panes</a></li>
  <li><a href="#good-habits" id="toc-good-habits" class="nav-link" data-scroll-target="#good-habits">Good Habits</a></li>
  <li><a href="#useful-settings" id="toc-useful-settings" class="nav-link" data-scroll-target="#useful-settings">Useful Settings</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">1: A first look at R &amp; RStudio</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- __Reading time: 15 minutes__   -->
<div class="lo">
<p>This reading:</p>
<ul>
<li>How does R work?</li>
<li>How do we use the Rstudio interface?</li>
</ul>
<div class="hints">
<p><em>The best way to learn R is to use it. Try following along with these readings by typing the code into your R script and running them. You will hopefully get the same output as is presented on this page below each bit of code. If you get errors and warnings, don’t panic - read them!</em></p>
</div>
</div>
<section id="r-is-a-calculator" class="level1">
<h1>R is a calculator</h1>
<p>When we first open RStudio, we should see something which looks more or less like the image in <a href="#fig-freshr" class="quarto-xref">Figure&nbsp;1</a>, where there are several little windows. We are going to explore what each of these little windows offer by just diving in and starting to do things.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-freshr" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-freshr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/freshr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-freshr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: RStudio, freshly opened
</figcaption>
</figure>
</div>
</div>
</div>
<p>Starting in the left-hand window, you’ll notice the blue sign <span style="color:blue">&gt;</span>.<br>
This is where we R code gets <em>executed</em>.</p>
<p>Type 2+2, and hit Enter ↵.<br>
You should discover that R is a calculator - R responds by telling us the answer (4).</p>
<p>Let’s work through some basic operations (adding, subtracting, etc). For instance, can you work out what R will give you for each of these operations?</p>
<div class="panelset">
<section id="arithmetic-operations" class="level4 panel">
<h4 class="anchored" data-anchor-id="arithmetic-operations">Arithmetic operations</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Code</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>2 + 5</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>10 - 4</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>2 * 5</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>10 - (2 * 5)</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(10 - 2) * 5</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>10 / 2</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>3^2</code></td>
<td style="text-align: left;"><span style="opacity:0"><br>(the <code>^</code> symbol is “to the power of”)</span></td>
</tr>
</tbody>
</table>
</section>
<section id="show-me-the-output" class="level4 panel">
<h4 class="anchored" data-anchor-id="show-me-the-output">Show me the output</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Code</th>
<th style="text-align: left;">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>2 + 5</code></td>
<td style="text-align: left;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>10 - 4</code></td>
<td style="text-align: left;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>2 * 5</code></td>
<td style="text-align: left;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>10 - (2 * 5)</code></td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(10 - 2) * 5</code></td>
<td style="text-align: left;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>10 / 2</code></td>
<td style="text-align: left;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>3^2</code></td>
<td style="text-align: left;">9<br>(the <code>^</code> symbol is “to the power of”)</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="rtip">
<p><strong>R can get stuck</strong></p>
<p>Whenever you see the blue sign <span style="color:blue">&gt;</span>, it means R is ready and waiting for you to provide a command.</p>
<p>If you type <code>10 +</code> and press Enter, you’ll see that instead of <span style="color:blue">&gt;</span> you are left with <span style="color:blue">+</span>. This means that R is waiting for more.</p>
<p>Either give it more (finish the command), or cancel the command by pressing the Escape key on your keyboard.</p>
</div>
<p>As well as performing arithmetic calculations, we can <em>ask</em> R things for which the answer is TRUE or FALSE, such as “Is 3 less than 5?”. If we type <code>3 &lt; 5</code> and press Enter, then R should tell us that the statement we gave it is TRUE.</p>
<p>These computations don’t return numbers, but instead return <strong>logical</strong> values. There are few operators that we need to learn about here:</p>
<ul>
<li><strong>Equality/Inequality</strong>: We use the symbols <code>==</code> to mean “is equal to”, and the symbols <code>!=</code> for “is not equal to”.<br>
</li>
<li><strong>Less Than/Greater Than</strong>: To determine whether a value is less/greater than another value, we have our typical symbols <code>&lt;</code> and <code>&gt;</code>. We also have <code>&lt;=</code> and <code>&gt;=</code> when we want to include “less/greater than <em>or equal to</em>”.</li>
</ul>
<p>We can combine these with <code>&amp;</code> for “and”, <code>|</code> for “or”, and <code>!</code> for “not”, to ask R all sorts of things.<br>
Try and work out what R should give you for each of these (or try it out yourself!):</p>
<div class="panelset">
<section id="logical-operations" class="level4 panel">
<h4 class="anchored" data-anchor-id="logical-operations">Logical operations</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Code</th>
<th style="text-align: left;"><span style="opacity:0">Output</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>3 &gt; 5</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>3 &lt;= 5</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>3 &gt;= 3</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>3 == 5</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(2 * 5) == 10</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>(2 * 5) != 11</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(2 == 2) &amp; (3 == 4)</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>(2 == 2) | (3 == 4)</code></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(2 == 2) &amp; !(3 == 4)</code></td>
<td style="text-align: left;"><span style="opacity:0">TRUE</span></td>
</tr>
</tbody>
</table>
</section>
<section id="show-me-the-output-1" class="level4 panel">
<h4 class="anchored" data-anchor-id="show-me-the-output-1">Show me the output</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Code</th>
<th style="text-align: left;">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>3 &gt; 5</code></td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>3 &lt;= 5</code></td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>3 &gt;= 3</code></td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>3 == 5</code></td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(2 * 5) == 10</code></td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>(2 * 5) != 11</code></td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(2 == 2) &amp; (3 == 4)</code></td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>(2 == 2) | (3 == 4)</code></td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>(2 == 2) &amp; !(3 == 4)</code></td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="sticky">
<p><strong>FALSE and TRUE as 0 and 1</strong></p>
<p>It will become useful to think of these logical values (TRUE and FALSE) as also having intrinsic numeric values of 0 and 1.<br>
This is how R will treat them if you ask it to do something that requires the values to be numeric.</p>
<p>For example, the code <code>TRUE + 3</code> will return <code>4</code>, and <code>FALSE + 3</code> will return <code>3</code>.</p>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="r-has-a-memory" class="level1">
<h1>R has a memory</h1>
<p>We can also store things in R’s memory, and to do that we just need to give them a name.</p>
<p>Type <code>x &lt;- 5</code> and press Enter.</p>
<p>What has happened? We don’t get given an answer like we did with calculations such as <code>2 + 4</code>. What we’ve done is stored in R’s memory something named <code>x</code> which has the value <code>5</code>. We can now refer to the name and it will give us the value!</p>
<p>If we now type <code>x</code> and press Enter, it gives us whatever we assigned to the name “x”. So it gives us the number 5.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>What is going to happen when we type <code>x * 3</code>? It will give us 15!</p>
<div class="rtip">
<p><strong>Assigning names to things in R</strong></p>
<p>The <code>&lt;-</code> symbol, pronounced arrow, is what we use to <em>assign</em> a value to a named object:</p>
<center>
<code>name &lt;- value</code>
</center>
</div>
<p>Note, there are a few rules about names in R:</p>
<ol type="1">
<li><p>No spaces - spaces <em>inside</em> a name are not allowed (the spaces around the <code>&lt;-</code> don’t matter):<br>
<code>lucky_number &lt;- 5</code> ✔ <code>lucky number &lt;- 5</code> ❌</p></li>
<li><p>Names must start with a letter:<br>
<code>lucky_number &lt;- 5</code> ✔ <code>1lucky_number &lt;- 5</code> ❌</p></li>
<li><p>Case sensitive:<br>
<code>lucky_number</code> is different from <code>Lucky_Number</code></p></li>
<li><p>here is a set of words you can’t use as names, including: <em>if, else, for, in, TRUE, FALSE, NULL, NA, NaN, function</em><br>
(Don’t worry about remembering these, R will tell you if you make the mistake of trying to name a variable after one of these).</p></li>
</ol>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="the-console-and-the-environment" class="level1">
<h1>The Console and The Environment</h1>
<p>If you are working along with us, you might have also noticed that something else happened when we executed the code <code>x &lt;- 5</code>. The thing we named <strong>x</strong> with a value of <strong>5</strong> suddenly appeared in the top-right window. This is known as the <strong>environment</strong> (<a href="#fig-renvir" class="quarto-xref">Figure&nbsp;2</a>), and it shows everything that we store in R.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-renvir" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-renvir-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/rassign.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-renvir-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Assigning names to objects stores them in R’s environment.
</figcaption>
</figure>
</div>
</div>
</div>
<p>So we’ve now made use of <strong>two</strong> of the panes that we see in RStudio:</p>
<p><strong>Where code is run:</strong> When we’ve been writing and running R code (e.g.&nbsp;typing <code>2+5</code> or <code>x&lt;-5</code> and pressing Enter), we’ve been doing it in the <strong>“console”</strong>.<br>
The console is where R code gets <em>executed</em> (i.e.&nbsp;where our coded instruction to R code is interpreted and acted on), but as we’ll see below, it isn’t where all R code gets <em>written</em>.</p>
<p><strong>Where things get stored:</strong> We’ve also been learning about how we can store things in R’s memory (the <strong>environment</strong>) by assigning a name to them using the <code>&lt;-</code> operator. The top-right pane of RStudio shows us the environment, where we can see everything that we have stored in R. Note that this also means we can keep track of what objects we have saved that are available for our use. If we never stored an object named “peppapig”, then R will give us an error when we do something like:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">*</span>peppapig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: object 'peppapig' not found</code></pre>
</div>
</div>
<p>Now that we have an idea of what the <em>console</em> and the <em>environment</em> are for, we are well on our way. If you want a silly analogy, the console is like R’s mouth, where we feed it things, and the environment is just its memory, where it remembers what things are what. We can see these in <a href="#fig-r4panel2" class="quarto-xref">Figure&nbsp;3</a>. Note however, that the <strong>console</strong> has been moved down to the bottom-left, as we are introducing a new pane above it. This is where we move to next.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-r4panel2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-r4panel2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/r4panel2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-r4panel2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: RStudio panes: Code is executed in the console, and objects are stored in the environment.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="r-scripts-and-the-editor" class="level1">
<h1>R Scripts and the Editor</h1>
<p>What if we want to edit our code? Whatever we write in the console just disappears upwards. What if we want to change things we did earlier on?</p>
<p>While the console is where code gets <em>executed</em>, it doesn’t have to be where code gets <em>written.</em>. We can write and edit our code in a separate place <em>before</em> we then send it to the console to be executed!!</p>
<p>The standard place to write and edit things is in an R scipt. We can open one by doing <strong>File &gt; New File &gt; R script</strong>, and a new file will open in the top-left pane of RStudio. The console will be shoved down to the bottom-left.</p>
<p>In the R script, we can write code. For instance, we might write:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">210</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that nothing happens when we write each line. It’s not like writing in the console where R tells us the answers. This is because this code is not yet being executed. We haven’t actually fed it to R.</p>
<p>There are a couple of useful ways we can send the code to R.</p>
<ul>
<li>Position your text-cursor (blinking vertical line) on the line of code we wish to run and press <strong>Ctrl+Enter</strong> (Windows) or <strong>Cmd+Enter</strong> (MacOS)<br>
</li>
<li>Position your text-cursor (blinking vertical line) on the line of code we wish to run and press the “Run” button in the top right of the script.</li>
</ul>
<p>When we do this, the line of code will be sent down to the console, where it will be executed, and R will do it’s thing.<br>
For example, if we had sent the line <code>x &lt;- 210</code> down to the console, R would then store the number 210 with the name <strong>x</strong> in our environment (as in <a href="#fig-reditor" class="quarto-xref">Figure&nbsp;4</a>). Additionally, it will move the text-cursor to the next line, so we can just press Ctrl+Enter again to run the next line (and so on.).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-reditor" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-reditor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/reditor.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-reditor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Code written in the script can be sent down to the console, where it is executed. In this example, the execution of the code stores an object in the environment.
</figcaption>
</figure>
</div>
</div>
</div>
<p>By writing our code in a file such as an R script <em>before</em> sending it to the console we can <strong>edit</strong>, <strong>save</strong>, and <strong>share</strong> our code. This makes it so much more useful than just using the console (which is more like writing on scratch paper, where we can’t keep anything).</p>
<p>For instance, let’s say we made a mistake earlier, and instead of “x” being <code>210</code>, it should have been <code>211</code>. Well, we can just edit the script, and re-run it.</p>
<div class="rtip">
<p><strong>Regularly save your scripts!</strong></p>
<p>To save an R script that is open, we just</p>
<ul>
<li>File &gt; Save (or <strong>Ctrl+S</strong>)</li>
<li>Locate to the folder where we want to save the file.<br>
</li>
<li>give it an appropriate name, and click save.</li>
</ul>
<p><strong>NOTE:</strong> When you save R script files, they terminate with a .R extension.</p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Looking ahead to RMarkdown
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<!-- ![Artwork by \\@allison_horst.](images/ahorst/rmarkdown_wizards.png){#fig-ahorstrmd} -->
<p>In addition to R scripts, there is another type of document we can create, known as “Rmarkdown”.</p>
<p>Rmarkdown documents combine the analytical power of R and the utility of a text-processor. We can have one document which contains all of our analysis as well as our written text, and can be <em>compiled</em> into a nicely formatted report. This saves us doing analysis in R and copying results across to Microsoft Word. It ensures our report accurately reflects our analysis. Everything that you’re reading now has all been written in Rmarkdown!</p>
<div id="fig-rmd1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rmd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/rmd.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rmd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: An example RMarkdown document
</figcaption>
</figure>
</div>
<p><strong>We’re going to learn more about Rmarkdown documents and how to write them later on</strong>, but the broad idea is that we can writing normal text interspersed with “code-chunks” (i.e., chunks of code!). RMarkdown documents looks much like an R script, only the code is contained within the grey-boxes, and text is written in between (see <a href="#fig-rmd1" class="quarto-xref">Figure&nbsp;5</a>). RMarkdown documents can then be compiled to create a lovely <strong>.pdf</strong>, <strong>.html</strong>, or <strong>.docx</strong> file.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-rmd2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rmd2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/rmdworkflow.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rmd2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: RMarkdown Workflow
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="the-four-rstudio-panes" class="level1">
<h1>The Four RStudio Panes</h1>
<p>We’ve now seen almost all the different panes in RStudio:</p>
<div style="max-width:49%;display:inline-block;vertical-align:top">
<ul>
<li>The <strong>console</strong> is where R code gets executed</li>
<li>The <strong>environment</strong> is R’s memory, you can <em>assign</em> something a name and store it here, and then refer to it by name in your code.</li>
<li>The <strong>editor</strong> is where you can write and edit R code in R scripts and Rmarkdown documents. You can then send this to the console for it to be executed.</li>
</ul>
</div>
<div style="max-width:49%;display:inline-block;vertical-align:middle;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-4panes" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-4panes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/installing_intro/rstudio-panes.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-4panes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: The Four Panes of RStudio
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>We are yet to use the bottom-right window, but this is an easy one to explain. It is where we can see any <strong>plots</strong> that we create, where we can browse our <strong>files</strong>, and where we can ask R for some <strong>help</strong> documentation. We’ll make more use of this later on, but for now try typing <code>plot(x = 4, y = 2)</code> into the console and seeing what happens.</p>
<p><br></p>
<div class="rtip">
<p><strong>Projects and file organisation</strong></p>
<p>We’re not going to speak too much about this here but one key thing to remember is that R is working <em>from</em> a specific place in your computer. You can find out where by typing <code>getwd()</code> into the console.</p>
<p>An easy way to keep things organised is to set up an “R project”. This basically associates a specific folder on your computer with your working in R, and it means it will automatically look for things in that folder.</p>
<p>We recommend that you start a project for this course (call it something like “usmr”). This will the be project that you open whenever you work on this course (RStudio will usually re-open the previous project you were working on when you closed it).<br>
With that project open, we suggest that you start a new script for each week, in which you complete your exercises, and which you then <em>remember to save!</em></p>
<p>If you haven’t already, we suggest you start an R project by using (in the top menu of RStudio), <strong>File &gt; New Project</strong> and following the instructions. It will create a folder on your computer somewhere of your choosing, and you will now notice that if you click in the “Files” tab in the bottom right pane of RStudio, you can see the project folder!</p>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="good-habits" class="level1">
<h1>Good Habits</h1>
<p>Along with regular saving of work and organising your files, it will be very useful in the long-run if we get used to always “starting fresh” when we open R.</p>
<p>We need to start thinking of the code that we write in an R script as a set of consecutive instructions that we can give to R in order to achieve our goal. It’s just a blank slate on which we write (in language R understands) “do this. now do this. now do this..” and so on.</p>
<p>This means that the script contains all the information needed.<br>
So we can now:</p>
<ol type="1">
<li>Empty our environment</li>
<li>Restart R</li>
<li>Run all the code in our script (highlight multiple lines of code to run them all at once)</li>
</ol>
<p>and we’re back to where we are! This is great for when we make mistakes (we’re going to make many many mistakes!), because we can just clear everything, start at the top of our script, and work downwards to figure out what has gone wrong.</p>
<div class="rtip">
<p><strong>Tidying up</strong></p>
<ul>
<li><p>To empty our environment, we can click on the little broomstick icon: <img src="images/installing_intro/rbroom.png" class="img-fluid">.</p></li>
<li><p>To restart the R Session (not always necessary, but good practice) in the top menu, we choose <strong>Session &gt; Restart R</strong> (or press Ctrl+Shift+F10).</p></li>
</ul>
</div>
<p>The other very useful thing that we can do in a script is to write comments for ourselves or for others. By starting a line with a <code>#</code>, R will know that that entire line is not code, and so it won’t try to <em>do</em> anything with it. For instance, if we write these lines in our script, and send them both down to the console, nothing happens for the first line:</p>
<div class="panelset">
<section id="comments" class="level4 panel">
<h4 class="anchored" data-anchor-id="comments">Comments</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The line below will add 5 to 2. </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
</section>
<section id="if-we-forget-the" class="level4 panel">
<h4 class="anchored" data-anchor-id="if-we-forget-the">If we forget the <code>#</code></h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>The line below will add <span class="dv">5</span> to <span class="fl">2.</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p style="color:red">
Error: unexpected symbol in “The line”
</p>
</section>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="useful-settings" class="level1">
<h1>Useful Settings</h1>
<p>Below are a couple of our recommended settings for you to change as you begin your journey in R. After you’ve changed them, take a 5 minute break before moving on to the next chapter.</p>
<div class="rtip">
<p><strong>1. Clean environments</strong></p>
<p>As you use R more, you will store lots of things with different names. Throughout this course alone, you’ll probably name hundreds of different things. This could quickly get messy within our project.</p>
<p>We can make it so that we have a clean environment each time you open RStudio. This will be really handy.</p>
<ol type="1">
<li>In the top menu, click <strong>Tools &gt; Global Options…</strong></li>
<li>Then, <em>untick</em> the box for “Restore .RData into workspace at startup”, and change “Save workspace to .RData on exit” to <em>Never</em>:</li>
</ol>
<p><img src="images/installing_intro/renvsettings.png" class="img-fluid"></p>
</div>
<div class="rtip">
<p><strong>2. Wrapping code</strong></p>
<p>In the editor, you might end up with a line of code which is really long, but you can make RStudio ‘wrap’ the line, so that you can see it all, without having to scroll:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">2</span><span class="sc">+</span><span class="dv">3</span><span class="sc">+</span><span class="dv">6</span><span class="sc">+</span><span class="dv">3</span><span class="sc">+</span><span class="dv">45</span><span class="sc">+</span><span class="dv">8467</span><span class="sc">+</span><span class="dv">356</span><span class="sc">+</span><span class="dv">8565</span><span class="sc">+</span><span class="dv">34</span><span class="sc">+</span><span class="dv">34</span><span class="sc">+</span><span class="dv">657</span><span class="sc">+</span><span class="dv">6756</span><span class="sc">+</span><span class="dv">456</span><span class="sc">+</span><span class="dv">456</span><span class="sc">+</span><span class="dv">54</span><span class="sc">+</span><span class="dv">3</span><span class="sc">+</span><span class="dv">78</span><span class="sc">+</span><span class="dv">3</span><span class="sc">+</span><span class="dv">3476</span><span class="sc">+</span><span class="dv">8</span><span class="sc">+</span><span class="dv">4</span><span class="sc">+</span><span class="dv">67</span><span class="sc">+</span><span class="dv">456</span><span class="sc">+</span><span class="dv">567</span><span class="sc">+</span><span class="dv">3</span><span class="sc">+</span><span class="dv">34575</span><span class="sc">+</span><span class="dv">45</span><span class="sc">+</span><span class="dv">2</span><span class="sc">+</span><span class="dv">6</span><span class="sc">+</span><span class="dv">9</span><span class="sc">+</span><span class="dv">5</span><span class="sc">+</span><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>In the top menu, click <strong>Tools &gt; Global Options…</strong></li>
<li>In the left menu of the box, click “Code”</li>
<li><em>Tick</em> the box for “Soft-wrap R source files”</li>
</ol>
</div>
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>


<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
W10=
</script>
</section>

</main> <!-- /main -->
<script>



/* update total correct if #webex-total_correct exists */

update_total_correct = function() {

  console.log("webex: update total_correct");



  var t = document.getElementsByClassName("webex-total_correct");

  for (var i = 0; i < t.length; i++) {

    p = t[i].parentElement;

    var correct = p.getElementsByClassName("webex-correct").length;

    var solvemes = p.getElementsByClassName("webex-solveme").length;

    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;

    var selects = p.getElementsByClassName("webex-select").length;



    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";

  }

}



/* webex-solution button toggling function */

b_func = function() {

  console.log("webex: toggle hide");



  var cl = this.parentElement.classList;

  if (cl.contains('open')) {

    cl.remove("open");

  } else {

    cl.add("open");

  }

}



/* check answers */

check_func = function() {

  console.log("webex: check answers");



  var cl = this.parentElement.classList;

  if (cl.contains('unchecked')) {

    cl.remove("unchecked");

    this.innerHTML = "Hide Answers";

  } else {

    cl.add("unchecked");

    this.innerHTML = "Show Answers";

  }

}



/* function for checking solveme answers */

solveme_func = function(e) {

  console.log("webex: check solveme");



  var real_answers = JSON.parse(this.dataset.answer);

  var my_answer = this.value;

  var cl = this.classList;

  if (cl.contains("ignorecase")) {

    my_answer = my_answer.toLowerCase();

  }

  if (cl.contains("nospaces")) {

    my_answer = my_answer.replace(/ /g, "")

  }



  if (my_answer == "") {

    cl.remove("webex-correct");

    cl.remove("webex-incorrect");

  } else if (real_answers.includes(my_answer)) {

    cl.add("webex-correct");

    cl.remove("webex-incorrect");

  } else {

    cl.add("webex-incorrect");

    cl.remove("webex-correct");

  }



  // match numeric answers within a specified tolerance

  if(this.dataset.tol > 0){

    var tol = JSON.parse(this.dataset.tol);

    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)

    if (matches.reduce((a, b) => a + b, 0) > 0) {

      cl.add("webex-correct");

    } else {

      cl.remove("webex-correct");

    }

  }



  // added regex bit

  if (cl.contains("regex")){

    answer_regex = RegExp(real_answers.join("|"))

    if (answer_regex.test(my_answer)) {

      cl.add("webex-correct");

    }

  }



  update_total_correct();

}



/* function for checking select answers */

select_func = function(e) {

  console.log("webex: check select");



  var cl = this.classList



  /* add style */

  cl.remove("webex-incorrect");

  cl.remove("webex-correct");

  if (this.value == "answer") {

    cl.add("webex-correct");

  } else if (this.value != "blank") {

    cl.add("webex-incorrect");

  }



  update_total_correct();

}



/* function for checking radiogroups answers */

radiogroups_func = function(e) {

  console.log("webex: check radiogroups");



  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');

  var cl = checked_button.parentElement.classList;

  var labels = checked_button.parentElement.parentElement.children;



  /* get rid of styles */

  for (i = 0; i < labels.length; i++) {

    labels[i].classList.remove("webex-incorrect");

    labels[i].classList.remove("webex-correct");

  }



  /* add style */

  if (checked_button.value == "answer") {

    cl.add("webex-correct");

  } else {

    cl.add("webex-incorrect");

  }



  update_total_correct();

}



window.onload = function() {

  console.log("webex onload");

  /* set up solution buttons */

  var buttons = document.getElementsByTagName("button");



  for (var i = 0; i < buttons.length; i++) {

    if (buttons[i].parentElement.classList.contains('webex-solution')) {

      buttons[i].onclick = b_func;

    }

  }



  var check_sections = document.getElementsByClassName("webex-check");

  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {

    check_sections[i].classList.add("unchecked");



    let btn = document.createElement("button");

    btn.innerHTML = "Show Answers";

    btn.classList.add("webex-check-button");

    btn.onclick = check_func;

    check_sections[i].appendChild(btn);



    let spn = document.createElement("span");

    spn.classList.add("webex-total_correct");

    check_sections[i].appendChild(spn);

  }



  /* set up webex-solveme inputs */

  var solveme = document.getElementsByClassName("webex-solveme");



  for (var i = 0; i < solveme.length; i++) {

    /* make sure input boxes don't auto-anything */

    solveme[i].setAttribute("autocomplete","off");

    solveme[i].setAttribute("autocorrect", "off");

    solveme[i].setAttribute("autocapitalize", "off");

    solveme[i].setAttribute("spellcheck", "false");

    solveme[i].value = "";



    /* adjust answer for ignorecase or nospaces */

    var cl = solveme[i].classList;

    var real_answer = solveme[i].dataset.answer;

    if (cl.contains("ignorecase")) {

      real_answer = real_answer.toLowerCase();

    }

    if (cl.contains("nospaces")) {

      real_answer = real_answer.replace(/ /g, "");

    }

    solveme[i].dataset.answer = real_answer;



    /* attach checking function */

    solveme[i].onkeyup = solveme_func;

    solveme[i].onchange = solveme_func;



    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")

  }



  /* set up radiogroups */

  var radiogroups = document.getElementsByClassName("webex-radiogroup");

  for (var i = 0; i < radiogroups.length; i++) {

    radiogroups[i].onchange = radiogroups_func;

  }



  /* set up selects */

  var selects = document.getElementsByClassName("webex-select");

  for (var i = 0; i < selects.length; i++) {

    selects[i].onchange = select_func;

    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")

  }



  update_total_correct();

}



</script>

<script>

if (window.location.href.includes('displayall')) {

  document.body.id = 'displayall';

} else {

  document.body.id = 'progressive';

}

</script>

<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>