<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Getting started in R &amp; RStudio</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);
e.style.display = ((e.style.display!='none') ? 'none' : 'block');
if(f.classList.contains('fa-chevron-circle-right')) {
    f.classList.add('fa-chevron-circle-down')
    f.classList.remove('fa-chevron-circle-right')
} else {
    f.classList.add('fa-chevron-circle-right')
    f.classList.remove('fa-chevron-circle-down')
}
}
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="assets/style-labs.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "Óâô";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "Óâô";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://uoepsy.github.io/usmr/">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    USMR Starts Here!
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="00_introPG.html">Getting started with R &amp; RStudio</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data &amp; Distributions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01_categorical.html">1: Categorical Data</a>
    </li>
    <li class="dropdown-header">2: Numeric Data</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tests, Models &amp; Data Wrangling
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">3: Hypothesis testing</li>
    <li class="dropdown-header">4: More tests</li>
    <li class="dropdown-header">5: Cov, Cor, Functions &amp; Models</li>
    <li class="dropdown-header">--- 6: Break Week ---</li>
    <li class="dropdown-header">7: Messy data</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Regression models
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">8: Linear Regression</li>
    <li class="dropdown-header">9: More Linear Regression</li>
    <li class="dropdown-header">10: GLM!</li>
    <li class="dropdown-header">11: Writing up</li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extras
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">LM Assumptions: Recipe book</li>
    <li class="dropdown-header">Incremental Validity: A Caution</li>
    <li class="dropdown-header">Model Selection</li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Getting started in R &amp; RStudio</h1>

</div>


<div class="lo">
<p><strong>THIS WEEK‚ÄôS OBJECTIVES</strong></p>
<ol style="list-style-type: decimal">
<li>Get a version of RStudio up and running, and get comfortable with the layout<br />
</li>
<li>Be able to read and store data into R</li>
</ol>
</div>
<div id="getting-r-and-rstudio" class="section level1">
<h1>Getting R and RStudio</h1>
<p>R is a widely used software for data analysis. We will interact with R using a nicer interface called RStudio. This combines a text editor, a file explorer, and a plotting window all in the same space.</p>
<p>You have two options for how you use R/RStudio:</p>
<ol style="list-style-type: upper-alpha">
<li><p>Use the PPLS RStudio server. This saves you the time on installing stuff on your own PC as it means you can use R from within an internet browser. It <em>does</em> mean that you will require an internet connection whenever you want to use R.</p></li>
<li><p>Download R and RStudio onto your computer.</p></li>
</ol>
<div class="rtip">
<p>The PPLS RStudio server has been set up specifically to help teaching Statistics in Psychology.<br />
It comes with many benefits, and we believe that we can offer you better assistance if you use opt to use it.</p>
<p>PPLS has permission to use RSudio on our server specifically for our taught courses using R.<br />
<strong>PLEASE DO NOT USE THE SERVER FOR YOUR DISSERTATIONS.</strong></p>
</div>
<div class="optional-begin">
<span id="opt-start-1" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-1&#39;, &#39;opt-start-1&#39;)"> Option A: The RStudio PPLS Server</span>
</div>
<div id="opt-body-1" class="optional-body" style="display: none;">
<ol style="list-style-type: decimal">
<li>Set your password <a href="https://rstudio.ppls.ed.ac.uk/setpass.php">here</a> (It will prompt you to log in via EASE first).<br />
If you believe that your username has not been granted access, please fill out the form <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=sAafLmkWiUWHiRCgaTTcYTstBwJEBklLhOSskzRST95UMTFKQlo5NkdOS0RNRTVXQjZLWloyU1RPQS4u">here</a> and we will get back to you as soon as we can.<br />
</li>
<li>Go to <a href="https://rstudio.ppls.ed.ac.uk" class="uri">https://rstudio.ppls.ed.ac.uk</a> to log in to the server using your UUN and the password you just set.<br />
You might want to bookmark this page, as you will be needing to access rstudio every week!<br />
</li>
<li>Create a new folder on the server. Give it a useful name like the name of the course (in the picture we have used ‚ÄúUSMR‚Äù).<br />
<img src="images/installing_intro/rstudioserver9.png" /><br />
</li>
<li>In the top right, click Project &gt; New Project
<img src="images/installing_intro/rstudioserver11.png" /><br />
</li>
<li>Click ‚ÄúExisting Directory‚Äù
<img src="images/installing_intro/rstudioserver12.png" /><br />
</li>
<li>Click ‚ÄúBrowse‚Äù and then choose the folder you just created. Click ‚ÄúChoose‚Äù and then click ‚ÄúCreate Project.‚Äù
<img src="images/installing_intro/rstudioserver15.png" /><br />
</li>
<li>You should now be able to tell that you have the project open, because it shows you in the top right.
<img src="images/installing_intro/rstudioserver17.png" /><br />
</li>
<li>You‚Äôre ready to go!</li>
</ol>
<p>Any problems, drop us an email at <a href="mailto:pg.ppls.stats@ed.ac.uk">pg.ppls.stats@ed.ac.uk</a>.</p>
</div>
<p class="optional-end">
</p>
<div class="optional-begin">
<span id="opt-start-2" class="fa fa-chevron-circle-right optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-2&#39;, &#39;opt-start-2&#39;)"> Option B: Installing R and RStudio locally. </span>
</div>
<div id="opt-body-2" class="optional-body" style="display: none;">
<div class="red">
<p>This year, it‚Äôs going to be difficult to manage any problems which occur during installation, which is why we‚Äôve so we encourage you to use the server (option A).<br />
You can also always email us at <a href="mailto:pg.ppls.stats@ed.ac.uk">pg.ppls.stats@ed.ac.uk</a>.</p>
</div>
<ol style="list-style-type: decimal">
<li>Only for macOS PCs, download and install XQuartz: <a href="http://xquartz.macosforge.org/" class="uri">http://xquartz.macosforge.org/</a></li>
<li>Download and install the most recent version of R:
<ul>
<li>For a macOS PC: <a href="https://cran.r-project.org/bin/macosx/" class="uri">https://cran.r-project.org/bin/macosx/</a></li>
<li>For a Windows PC: <a href="https://cran.r-project.org/bin/windows/base/" class="uri">https://cran.r-project.org/bin/windows/base/</a></li>
</ul></li>
<li>Download and install RStudio:
<ul>
<li>Choose the appropriate download for your computer (e.g.., MacOS/Windows): <a href="https://www.rstudio.com/products/rstudio/download/#download" class="uri">https://www.rstudio.com/products/rstudio/download/#download</a></li>
</ul></li>
<li>Open RStudio</li>
<li>Only for macOS PCs, type <code>system("defaults write org.R-project.R force.LANG en_US.UTF-8")</code> into RStudio, press Enter, close and reopen RStudio.</li>
<li>Create a new project:
<ul>
<li>File &gt; New Project‚Ä¶</li>
<li>Click New Directory:<br />
<img src="images/installing_intro/newproj1.png" /></li>
<li>Click New Project:<br />
<img src="images/installing_intro/newproj2.png" /></li>
<li>Name the project (use the name of the course - in the picture below it is someone naming it ‚Äúdapr1‚Äù), and decide where you want to save it on your computer by clicking on browse. Then click Create Project:<br />
<img src="images/installing_intro/newproj3.png" /></li>
</ul></li>
</ol>
</div>
<p class="optional-end">
</p>
</div>
<div id="a-first-look-at-rstudio" class="section level1">
<h1>A first look at RStudio</h1>
<p>Okay, now you should have RStudio and a project open, and you should see something which looks more or less like the image below, where there are several little windows.</p>
<p><img src="images/installing_intro/freshr.png" /></p>
<p>We are going to explore what each of these little windows offer by just diving in and starting to do things.</p>
<div id="r-as-a-calculator" class="section level2">
<h2>R as a calculator</h2>
<p>Starting in the left-hand window, you‚Äôll notice the blue sign <span style="color:blue">&gt;</span>.
This is where we R code gets <em>executed</em>.</p>
<p>Type 2+2, and hit Enter ‚Üµ. You should discover that R is a calculator.</p>
<p>Let‚Äôs work through some of the basic operations (adding, subtracting, etc).
Try these commands yourself:</p>
<ul>
<li><code>2 + 5</code></li>
<li><code>10 - 4</code></li>
<li><code>2 * 5</code></li>
<li><code>10 - (2 * 5)</code></li>
<li><code>(10 - 2) * 5</code></li>
<li><code>10 / 2</code></li>
<li><code>3^2</code> (Hint, interpret the <code>^</code> symbol as ‚Äúto the power of‚Äù)</li>
</ul>
<div class="rtip">
<p><strong>Helpful tip</strong></p>
<p>Whenever you see the blue sign <span style="color:blue">&gt;</span>, it means R is ready and waiting for you to provide a command.</p>
<p>If you type <code>10 +</code> and press Enter, you‚Äôll see that instead of <span style="color:blue">&gt;</span> you are left with <span style="color:blue">+</span>.
This means that R is waiting for more.
Either give it more, or cancel the command by pressing the escape key on your keyboard.</p>
</div>
<p>As well as performing calculations, we can <em>ask</em> R things, such as ‚ÄúIs 3 less than 5?‚Äù:</p>
<pre class="r"><code>3 &lt; 5</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>As the computation above returns TRUE, we notice that such questions return either TRUE or FALSE. These are not numbers and are called <em>logical</em> values.</p>
<p>Try the following:</p>
<ul>
<li><code>3 &gt; 5</code> ‚Äúis 3 greater than 5?‚Äù</li>
<li><code>3 &lt;= 5</code> ‚Äúis 3 less than or equal to 5?‚Äù</li>
<li><code>3 &gt;= 3</code> ‚Äúis 3 greater than or equal to 3?‚Äù</li>
<li><code>3 == 5</code> ‚Äúis 3 equal to 5?‚Äù</li>
<li><code>(2 * 5) == 10</code> ‚Äúis 2 times 5 equal to 10?‚Äù</li>
<li><code>(2 * 5) != 11</code> ‚Äúis 2 times 5 NOT equal to 11?‚Äù</li>
</ul>
</div>
<div id="r-as-a-calculator-with-a-memory" class="section level2">
<h2>R as a calculator with a memory</h2>
<p>We can also store things in R‚Äôs memory, and to do that we just need to give them a name. Type <code>x &lt;- 5</code> and press Enter.</p>
<p>What has happened? We‚Äôve just stored something named <code>x</code> which has the value <code>5</code>.
We can now refer to the name and it will give us the value!
Try typing <code>x</code> and hitting Enter. It should give you the number 5.
What about <code>x * 3</code>?</p>
<div class="rtip">
<p><strong>Storing things in R</strong></p>
The <code>&lt;-</code> symbol, pronounced arrow, is used to <em>assign</em> a value to a named object:
<center>
<code>[name] &lt;- [value]</code>
</center>
<p>Note, there are a few rules about names in R:</p>
<ul>
<li>No spaces - spaces <em>inside</em> a name are not allowed (the spaces around the <code>&lt;-</code> don‚Äôt matter):
<ul>
<li><code>lucky_number &lt;- 5</code> ‚úî ‚ÄÉ <code>lucky number &lt;- 5</code> ‚ùå<br />
</li>
</ul></li>
<li>Names must start with a letter:
<ul>
<li><code>lucky_number &lt;- 5</code> ‚úî ‚ÄÉ <code>1lucky_number &lt;- 5</code> ‚ùå<br />
</li>
</ul></li>
<li>Case sensitive:
<ul>
<li><code>lucky_number</code> is different from <code>Lucky_Number</code><br />
</li>
</ul></li>
<li>Reserved words - there is a set of words you can‚Äôt use as names, including: if, else, for, in, TRUE, FALSE, NULL, NA, NaN, function<br />
(Don‚Äôt worry about remembering these, R will tell you if you make the mistake of trying to name a variable after one of these).</li>
</ul>
</div>
<p>You might have noticed that something else happened when you executed the code <code>x &lt;- 5</code>.
The thing we named <strong>x</strong> with a value of <strong>5</strong> suddenly appeared in the top-right window. This is known as the <strong>environment</strong>, and it shows everything that we store things in R:</p>
<p><img src="images/installing_intro/rassign.png" /></p>
<p>We‚Äôve now used a couple of the windows - we‚Äôve been executing R code in the <strong>console</strong>, and learned about how we can store things in R‚Äôs memory (the <strong>environment</strong>) by assigning a name to them:</p>
<p><img src="images/installing_intro/r4panel2.png" /></p>
<p>Notice that in the screenshot above, we have moved the <strong>console</strong> down to the bottom-left, and introduced a new window above it. This is the one that we‚Äôre going to talk about next.</p>
</div>
<div id="the-editor" class="section level2">
<h2>The Editor</h2>
<p>What if we want to edit our code?
Whatever we write in the console just disappears upwards. What if we want to change things we did earlier on?</p>
<p>Well, we can write and edit our code in a separate place <em>before</em> sending it to the <strong>console</strong> to be executed!!</p>
<div id="r-scripts" class="section level3">
<h3>R scripts</h3>
<div class="question-begin">
Task
</div>
<div class="question-body">
<ol style="list-style-type: decimal">
<li>Open an R script
<ul>
<li><strong>File &gt; New File &gt; R script</strong></li>
</ul></li>
<li>Copy and paste the following into the R script</li>
</ol>
<pre class="r"><code>x &lt;- 210
y &lt;- 15
x / y</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Position your text-cursor (blinking vertical line) on the top line and press:
<ul>
<li>Ctrl + Enter on Windows</li>
<li>Cmd + Enter on macOS</li>
</ul></li>
</ol>
</div>
<p class="question-end">
</p>
<p>Notice what has happened - it has sent the command <code>x &lt;- 210</code> to the console, where it has been executed, and <strong>x</strong> is now in your environment.
Additionally, it has moved the text-cursor to the next line.<br />
<img src="images/installing_intro/reditor.png" /></p>
<div class="question-begin">
Task
</div>
<div class="question-body">
<p>Press Ctrl + Enter (Windows) or Cmd + Enter (macOS) again.
Do it twice (this will run the next two lines).</p>
<p>Then, change <strong>x</strong> to some other number in your R script, and run the lines again (starting at the top).</p>
</div>
<p class="question-end">
</p>
<div class="question-begin">
Task
</div>
<div class="question-body">
<p>Add the following line to your R script and execute it (send it to the console pressing Ctrl/Cmd + Enter):</p>
<pre class="r"><code>plot(1,5)</code></pre>
</div>
<p class="question-end">
</p>
<p>A very basic plot should have appeared in the bottom-right of RStudio.
The bottom-right window actually does some other useful things, for instance showing you the files associated with your project.</p>
<div class="question-begin">
Task
</div>
<div class="question-body">
<ol style="list-style-type: decimal">
<li>Save the R script you have been working with:
<ul>
<li>File &gt; Save</li>
<li>give it an appropriate name, and click save.</li>
</ul></li>
<li>Check that you can now see that file in the project, by clicking on the ‚ÄúFiles‚Äù tab of the bottom-right window.</li>
</ol>
<p><strong>NOTE:</strong> When you save R script files, they terminate with a .R extension.</p>
</div>
<p class="question-end">
</p>
<div class="rtip">
<p><strong>Comments in code</strong><br />
Using <code>#</code> in R code makes that line a comment, which basically means that R will ignore the line. Comments are useful for you to remind yourself of what your code is doing.</p>
</div>
<div class="question-begin">
Task
</div>
<div class="question-body">
<p>Add a little comment to yourself in your R script. It can be anything you like for now (normally it would be something useful reminding yourself how the code works). Then on a new line type <code>2+5</code></p>
<pre class="r"><code># One fine day in the middle of the night, two dead men got up to fight
# back to back they faced each other, drew their swords and shot each other.
2+5</code></pre>
<pre><code>## [1] 7</code></pre>
<p>Highlight all these lines and click run (or press Ctrl/Cmd + Enter). Notice what happens when these get sent to the console.
What happens if you didn‚Äôt have the <code>#</code>? Give it a try and see.</p>
<p>How does R interpret the line below?</p>
<pre class="r"><code>4*3 # i am multiplying 4 by 3. 6*8</code></pre>
</div>
<p class="question-end">
</p>
<div class="frame">
<p><strong>Looking ahead to Rmarkdown</strong></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="images/ahorst/rmarkdown_wizards.png" alt="Artwork by \@allison_horst" width="80%" />
<p class="caption">
Figure 1: Artwork by @allison_horst
</p>
</div>
<p>In addition to R scripts, there is another type of document we can create, known as ‚ÄúRmarkdown.‚Äù</p>
<p>Rmarkdown documents combine the analytical power of R and the utility of a text-processor.
We can have one document which contains all of our analysis as well as our written text, and can be <em>compiled</em> into a nicely formatted report. This saves us doing analysis in R and copying results across to Microsoft Word. It ensures our report accurately reflects our analysis. Everything that you‚Äôre reading now has all been written in Rmarkdown!</p>
<p><strong>We‚Äôre going to use Rmarkdown documents for the assignment of this course, but do not worry too much right now about them - we‚Äôll get into it how to write them later on in the course</strong>, but it basically involves writing normal text interspersed with ‚Äúcode-chunks‚Äù (i.e., chunks of code!).
In the example below, you can see the grey boxes indicating the R code, with text in between.
We can then compile the document into either a <strong>.pdf</strong> or a <strong>.html</strong> file.</p>
<p><img src="images/installing_intro/compiling.png" /></p>
</div>
</div>
</div>
<div id="recap" class="section level2">
<h2>Recap</h2>
<p>Okay, so we‚Äôve now seen all of the different windows in RStudio in action:</p>
<ul>
<li>The <strong>console</strong> is where R code gets executed</li>
<li>The <strong>environment</strong> is R‚Äôs memory, you can <em>assign</em> something a name and store it here, and then refer to it by name in your code.</li>
<li>The <strong>editor</strong> is where you can write and edit R code in R scripts and Rmarkdown documents. You can then send this to the console for it to be executed.</li>
<li>The bottom-right window shows you the <strong>plots</strong> that you create, the <strong>files</strong> in your project, and some other things (we‚Äôll get to these later).</li>
</ul>
<p><img src="images/installing_intro/r4panel3.png" /></p>
</div>
</div>
<div id="take-a-breather" class="section level1">
<h1>Take a breather</h1>
<p>Below are a couple of our recommended settings for you to change as you begin your journey in R.
After you‚Äôve changed them, take a 5 minute break before moving on to learning about how we store data in R.</p>
<div class="rtip">
<p><strong>Useful Settings 1: Clean environments</strong></p>
<p>As you use R more, you will store lots of things with different names. Throughout this course alone, you‚Äôll probably name hundreds of different things.
This could quickly get messy within our project.</p>
<p>We can make it so that we have a clean environment each time you open RStudio. This will be really handy.</p>
<ol style="list-style-type: decimal">
<li>In the top menu, click <strong>Tools &gt; Global Options‚Ä¶</strong></li>
<li>Then, <em>untick</em> the box for ‚ÄúRestore .RData into workspace at startup,‚Äù and change ‚ÄúSave workspace to .RData on exit‚Äù to <em>Never</em>:</li>
</ol>
<p><img src="images/installing_intro/renvsettings.png" /></p>
</div>
<div class="rtip">
<p><strong>Useful Settings 2: Wrapping code</strong></p>
<p>In the editor, you might end up with a line of code which is really long, but you can make RStudio ‚Äòwrap‚Äô the line, so that you can see it all, without having to scroll:</p>
<pre class="r"><code>x &lt;- 1+2+3+6+3+45+8467+356+8565+34+34+657+6756+456+456+54+3+78+3+3476+8+4+67+456+567+3+34575+45+2+6+9+5+6</code></pre>
<ol style="list-style-type: decimal">
<li>In the top menu, click <strong>Tools &gt; Global Options‚Ä¶</strong></li>
<li>In the left menu of the box, click ‚ÄúCode‚Äù</li>
<li><em>Tick</em> the box for ‚ÄúSoft-wrap R source files‚Äù</li>
</ol>
</div>
</div>
<div id="r-packages" class="section level1">
<h1>R Packages</h1>
<div id="installing-r-packages" class="section level2">
<h2>Installing R packages</h2>
<p>Alongside the basic installation of R and RStudio, there are many add-on packages which the R community create and maintain.</p>
<p>The thousands of packages are part of what makes R such a powerful and useful tool - there is a package for almost everything you could want to do in R.</p>
<div class="question-begin">
Task - Install a silly package
</div>
<div class="question-body">
<p>In the <strong>console</strong>, type <code>install.packages("cowsay")</code> and hit Enter.</p>
<p>Lots of red text will come up, and it will take a bit of time.</p>
<p>When it has finished, and R is ready for you to use again, you will see the blue sign <span style="color:blue;">&gt;</span>.</p>
</div>
<p class="question-end">
</p>
</div>
<div id="using-r-packages" class="section level2">
<h2>Using R packages</h2>
<p>It‚Äôs not enough just to install a package - to actually <em>use</em> the package, we need to load it using <code>library()</code>.<br />
We install a package only once. But each time we open RStudio, we have to load the packages we need.</p>
<center>
<p><img src="images/installing_intro/libraries.jpeg" style="width:80.0%" /></p>
<p>(Source: <a href="https://twitter.com/visnut/status/1248087845589274624" class="uri">https://twitter.com/visnut/status/1248087845589274624</a>)</p>
</center>
<div class="question-begin">
Task - Talking Cows
</div>
<div class="question-body">
<p>In your <strong>R script</strong> (not the console), type <code>library(cowsay)</code> and hit enter. This <em>loads</em> the package for us to use it.<br />
Then, type <code>say("hello world", by = "cow")</code> and hit enter.<br />
Hopefully you got a similar result to ours:</p>
<pre class="r"><code>library(cowsay)
say(&quot;Hi Folks!&quot;, by = &quot;cow&quot;)</code></pre>
<pre><code>## 
##  ----- 
## Hi Folks! 
##  ------ 
##     \   ^__^ 
##      \  (oo)\ ________ 
##         (__)\         )\ /\ 
##              ||------w|
##              ||      ||</code></pre>
</div>
<p class="question-end">
</p>
<div class="question-begin">
Task - Install and load the Tidyverse packages
</div>
<div class="question-body">
<p>In the <strong>console</strong>, install the package ‚Äútidyverse.‚Äù Then, in <strong>your R script</strong>, load the package using <code>library()</code>.<br />
<em>Make sure that after typing <code>library(tidyverse)</code> into the r script, you run it (Ctrl/Cmd + Enter)</em>.<br />
We‚Äôre going to use some functions from it in just a minute.</p>
</div>
<p class="question-end">
</p>
</div>
</div>
<div id="storing-data-into-r" class="section level1">
<h1>Storing data into R</h1>
<div class="frame">
<p>Try following along with this section by typing the code into your R script and running them. You will hopefully get the same output as is presented on this page below each bit of code.</p>
</div>
<p>We‚Äôve already seen how to assign a value to a name/symbol using <code>&lt;-</code>. However, we‚Äôve only seen how to assign a single number, e.g, <code>x &lt;- 5</code>.</p>
<p>To store a sequence of numbers into R, we combine the values using the combine function <code>c()</code> and give the sequence a name. A sequence of elements all of the same type is called a <strong>vector</strong>.
To view the stored content, simply type the name of the vector.</p>
<pre class="r"><code>myfirstvector &lt;- c(1, 5, 3, 7)
myfirstvector</code></pre>
<pre><code>## [1] 1 5 3 7</code></pre>
<p>We can perform arithmetic operations on each value of the vector. For example, to add five to each entry:</p>
<pre class="r"><code>myfirstvector + 5</code></pre>
<pre><code>## [1]  6 10  8 12</code></pre>
<p>Recall that vectors are sequences of elements <strong>all of the same type</strong>. They do not have to be always numbers; they could be words such as real or fictional animals.
Words need to be written inside quotations, e.g.¬†‚Äúanything,‚Äù and instead of being of numeric type, we say they are characters.</p>
<pre class="r"><code>wordsvector &lt;- c(&quot;cat&quot;, &quot;dog&quot;, &quot;parrot&quot;, &quot;peppapig&quot;)
wordsvector</code></pre>
<pre><code>## [1] &quot;cat&quot;      &quot;dog&quot;      &quot;parrot&quot;   &quot;peppapig&quot;</code></pre>
<div class="rtip">
<p><strong>NOTE</strong></p>
<p>You can use either double-quote or single-quote:</p>
<pre class="r"><code>c(&quot;cat&quot;, &quot;dog&quot;, &quot;parrot&quot;, &quot;peppapig&quot;)</code></pre>
<pre><code>## [1] &quot;cat&quot;      &quot;dog&quot;      &quot;parrot&quot;   &quot;peppapig&quot;</code></pre>
<pre class="r"><code>c(&#39;cat&#39;, &#39;dog&#39;, &#39;parrot&#39;, &#39;peppapig&#39;)</code></pre>
<pre><code>## [1] &quot;cat&quot;      &quot;dog&quot;      &quot;parrot&quot;   &quot;peppapig&quot;</code></pre>
</div>
<p>The function <code>class()</code> will tell you the type of the object. In this case, it is a character vector.</p>
<pre class="r"><code>class(wordsvector)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>It does not make sense to add a number to words, hence some operations like addition and multiplication are only defined on vectors of numeric type. If you make a mistake, R will warn you with a red error message.</p>
<pre class="r"><code>wordsvector + 5</code></pre>
<p style="color:red">
Error in wordsvector + 5 : non-numeric argument to binary operator
</p>
<p>Finally, it is important to notice that if you combine together in a vector a number and a word, R will transform all elements to be of the same type.
Why? Recall: vectors are sequences of elements <strong>all of the same type</strong>.
Typically, R chooses the most general type between the two.
In this particular case, it would make everything a character, check the "", as it would be harder to transform a word into a number!</p>
<pre class="r"><code>mysecondvector &lt;- c(4, &quot;cat&quot;)
mysecondvector</code></pre>
<pre><code>## [1] &quot;4&quot;   &quot;cat&quot;</code></pre>
</div>
<div id="reading-data-into-r" class="section level1">
<h1>Reading data into R</h1>
<p>While we can manually input data like we did above, more often, we will need to read in data which has been created elsewhere (like in excel, or by some software which is used to present participants with experiments).</p>
<div class="question-begin">
Task - Make some data elsewhere (e.g., Excel)
</div>
<div class="question-body">
<p>Open Microsoft Excel, or LibreOffice Calc, or whatever spreadsheet software you have available to you, and create some data with more than one variable.</p>
<p>It can be whatever you want, but we‚Äôve used a very small example here for you to follow, so feel free to use it if you like.</p>
<p>We‚Äôve got two sets of values here: the names and the birth-years of each member of the Beatles. The easiest way to think of this would be to have a row for each Beatle, and a column for each of name and birth-year.</p>
<p><img src="images/installing_intro/create_data.png" /></p>
</div>
<p class="question-end">
</p>
<div class="question-begin">
Task - Save the data
</div>
<div class="question-body">
<p>Save the data as a <strong>.csv</strong> file.</p>
<p>Although R can read data when it‚Äôs saved in Microsoft/LibreOffice formats, the simplest, and most universal way to save data is as simple text, with the values separated by some character - <strong>.csv</strong> stands for <strong>comma separated values</strong>.</p>
<p>In Microsoft Excel, if you go to <strong>File &gt; Save as</strong></p>
<p>In the Save as Type box, choose to save the file as <strong>CSV (Comma delimited)</strong>.</p>
<p><strong>Important:</strong> save your data in the project folder you created at the start of this lab.</p>
</div>
<p class="question-end">
</p>
<p>Back in RStudio‚Ä¶</p>
<p>Next, we‚Äôre going to read the data into R. We can do this by using the <code>read_csv()</code> function, and directing it to the file you just saved.</p>
<strong>If you are using RStudio on the server</strong>, you will need to upload the file you just saved to the server. The video below shows an example of this:<br />

<center>
<video width="320" height="240" controls>
<source src="images/installing_intro/uploaddataserver.mp4" type="video/mp4">
</video>
</center>
<div class="question-begin">
Task - Read data into R
</div>
<div class='question-body'>


<p>To read the data into R, simply type:
<code>read_csv("name-of-your-data.csv")</code>, where you replace <em>name-of-your-data</em> with whatever you just saved your data as in your spreadsheet software.</p>
<strong>Helpful tip</strong><br />
If you have your text-cursor inside the quotation marks, and press the tab key on your keyboard, it will show you the files inside your project. You can then use the arrow keys to choose between them and press Enter to add the code:<br />

<center>
<video width="320" height="240" controls>
<source src="images/readdatatab.mp4" type="video/mp4">
</video>
</center>
<p>When you run the line of code you just wrote, it will print out the data, but will not store it. To do that, we need to assign it as something:</p>
<pre class="r"><code>beatles &lt;- read_csv(&quot;data_from_excel.csv&quot;)</code></pre>
<p>Note that this will now turn up in the <em>Environment</em> pane of RStudio.</p>
</div>
<p class="question-end">
</p>
<p>Now that we‚Äôve got our data in R, we can print it out by simply invoking its name:</p>
<pre class="r"><code>beatles</code></pre>
<pre><code>## # A tibble: 4 √ó 2
##   name   birth_year
##   &lt;chr&gt;       &lt;dbl&gt;
## 1 John         1940
## 2 Paul         1942
## 3 George       1943
## 4 Ringo        1940</code></pre>
<p>And we can do things such as ask R how many rows and columns there are:</p>
<pre class="r"><code>dim(beatles)</code></pre>
<pre><code>## [1] 4 2</code></pre>
<p>This says that there are 4 members of the Beatles, and for each we have 2 measurements.</p>
<p>To get more insight into what the data actually are, you can either use the structure <code>str()</code> function, or <code>glimpse()</code> function to get a glimpse at the data:</p>
<pre class="r"><code>str(beatles)</code></pre>
<pre><code>## spec_tbl_df [4 √ó 2] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ name      : chr [1:4] &quot;John&quot; &quot;Paul&quot; &quot;George&quot; &quot;Ringo&quot;
##  $ birth_year: num [1:4] 1940 1942 1943 1940
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   name = col_character(),
##   ..   birth_year = col_double()
##   .. )</code></pre>
<pre class="r"><code>glimpse(beatles)</code></pre>
<pre><code>## Rows: 4
## Columns: 2
## $ name       &lt;chr&gt; &quot;John&quot;, &quot;Paul&quot;, &quot;George&quot;, &quot;Ringo&quot;
## $ birth_year &lt;dbl&gt; 1940, 1942, 1943, 1940</code></pre>
<div class="question-begin">
Task - Some functions
</div>
<div class="question-body">
<p>Use <code>dim()</code> to confirm how many rows and columns are in your data.</p>
<p>Use <code>str()</code> or <code>glimpse()</code> to take a look at the structure of the data. Don‚Äôt worry about the output of <code>str()</code> right now, we‚Äôll pick up with this in the next chapter.</p>
</div>
<p class="question-end">
</p>
<hr />
<div class="rtip">
<p><code>dim()</code>, <code>str()</code>, <code>read_csv()</code> are all <strong>functions</strong>.</p>
<p><strong>Functions</strong> perform specific operations / transformations in computer programming.</p>
<p>They can have <strong>inputs</strong> and <strong>outputs</strong>. For example, <code>dim()</code> takes some data you have stored in R as its <strong>input</strong>, and gives the dimensions of the data as its <strong>output</strong>.</p>
</div>
<div class="question-begin">
Task - getting help from R
</div>
<div class="question-body">
<p>In R, functions come with help pages, where you can see information about the various inputs and outputs, and examples of how to use them.</p>
<p>In the <strong>console</strong>, type <code>?dim</code> (or <code>?dim()</code> will work too) and press Enter.<br />
The bottom-right pane (where things like plots are also shown), should switch to the <em>Help</em> tab, and open the documentation page for the <code>dim()</code> function!</p>
</div>
<p class="question-end">
</p>
<div class="rtip">
<p>Why did we ask you to write this bit in the console, whereas previously we‚Äôve been writing stuff in the R script in the editor?</p>
<p>Well, when writing an R code, the aim at the end is to have a nice document which concisely gives the computer the instructions required to compute your analysis.<br />
It‚Äôs not necessary to keep a line like <code>?dim()</code> which is just looking up how to use some function. Similarly, when writing an essay, you wouldn‚Äôt leave a line saying that you looked up a word in the dictionary before using it.<br />
<strong>Because lines like this have no consequences on code below, your R script will do the same thing with/without that line</strong></p>
<p>Consider the example code below. The 2nd, 3rd, and 5th lines do absolutely nothing to our computations with x and y.</p>
<pre class="r"><code>x &lt;- 4
x
4*33
y &lt;- 6/100
?mean
answer &lt;- x*y</code></pre>
</div>
<hr />
<div id="save-your-files" class="section level2">
<h2>Save your files!</h2>
<div class="question-begin">
Task
</div>
<div class="question-body">
<p>Don‚Äôt forget to save your R script!</p>
</div>
<p class="question-end">
</p>
</div>
</div>
<div id="checklist-for-today" class="section level1">
<h1>Checklist for today</h1>
<ol style="list-style-type: decimal">
<li><strong>EITHER:</strong>
<ul>
<li>Option A: Get started with the PPLS RStudio Server ‚ÄÉ ‚úî</li>
<li>Option B: Install R and RStudio ‚ÄÉ ‚úî</li>
</ul></li>
<li>Start a new project for the course ‚ÄÉ ‚úî</li>
<li>Change a few RStudio settings (recommended) ‚ÄÉ ‚úî</li>
<li>Install some R packages (the ‚Äútidyverse‚Äù) ‚ÄÉ ‚úî</li>
<li>Complete today‚Äôs tasks and exercises on storing data in R ‚ÄÉ ‚úî</li>
<li>Save your R script! ‚ÄÉ ‚úî</li>
<li>Celebrate! ‚ÄÉ ‚úî üéâ</li>
</ol>
</div>
<div id="glossary" class="section level1">
<h1>Glossary</h1>
<ul>
<li>Console: where the code gets executed</li>
<li>Environment: R‚Äôs memory, it lists all the names of things with stuff stored into them</li>
<li>Editor: where we edit code</li>
<li>R script: a file with R code and comments</li>
<li>Rmarkdown document: an enhanced file where you can combine together R code, explanatory text, and plots.</li>
<li>packages (also library): user-created bundles providing additional functionality to your local R installation</li>
<li>functions: they take inputs, do some transformation or computation on them, and return a result (output)</li>
<li>?: returns the help page of a function, e.g.¬†?dim.</li>
</ul>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Symbol</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>+</code></td>
<td align="left">Adds two numbers together</td>
<td align="left"><code>2+2</code> - two plus two</td>
</tr>
<tr class="even">
<td align="right"><code>-</code></td>
<td align="left">Subtract one number from another</td>
<td align="left"><code>3-1</code> - three minus one</td>
</tr>
<tr class="odd">
<td align="right"><code>*</code></td>
<td align="left">Multiply two numbers together</td>
<td align="left"><code>3*3</code> - three times three</td>
</tr>
<tr class="even">
<td align="right"><code>/</code></td>
<td align="left">Divide one number by another</td>
<td align="left"><code>9/3</code> - nine divided by three</td>
</tr>
<tr class="odd">
<td align="right"><code>()</code></td>
<td align="left">group operations together</td>
<td align="left"><code>(2+2)/4</code> is different from <code>2+2/4</code></td>
</tr>
<tr class="even">
<td align="right"><code>^</code></td>
<td align="left">to the power of..</td>
<td align="left"><code>4^2</code> - four to the power of two, or four squared</td>
</tr>
<tr class="odd">
<td align="right"><code>&lt;-</code></td>
<td align="left">stores an object in R with the left hand side (LHS) as the name, and the RHS as the value</td>
<td align="left"><code>x &lt;- 10</code></td>
</tr>
<tr class="even">
<td align="right"><code>=</code></td>
<td align="left">stores an object in R with the left hand side (LHS) as the name, and the RHS as the value</td>
<td align="left"><code>x = 10</code></td>
</tr>
<tr class="odd">
<td align="right"><code>&lt;</code></td>
<td align="left">is less than?</td>
<td align="left"><code>2 &lt; 3</code></td>
</tr>
<tr class="even">
<td align="right"><code>&gt;</code></td>
<td align="left">is greater than?</td>
<td align="left"><code>2 &gt; 3</code></td>
</tr>
<tr class="odd">
<td align="right"><code>&lt;=</code></td>
<td align="left">is less than or equal to?</td>
<td align="left"><code>2 &lt;= 3</code></td>
</tr>
<tr class="even">
<td align="right"><code>&gt;=</code></td>
<td align="left">is greater than or equal to?</td>
<td align="left"><code>2 &gt;= 2</code></td>
</tr>
<tr class="odd">
<td align="right"><code>==</code></td>
<td align="left">is equal to?</td>
<td align="left"><code>(5+5) == 10</code></td>
</tr>
<tr class="even">
<td align="right"><code>!=</code></td>
<td align="left">is not equal to?</td>
<td align="left"><code>(2+3) != 4</code></td>
</tr>
<tr class="odd">
<td align="right"><code>c()</code></td>
<td align="left">combines values into a vector (a sequence of values)</td>
<td align="left"><code>c(1,2,3,4)</code></td>
</tr>
</tbody>
</table>
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>
</div>

<div>
  <hr/>
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br/>
  This workbook was written by Josiah King, Umberto Noe, and Martin
  Corley, and is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
