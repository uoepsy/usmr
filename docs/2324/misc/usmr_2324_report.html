<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>USMR Group Project 2023/24</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="usmr_2324_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="usmr_2324_report_files/libs/quarto-html/quarto.js"></script>
<script src="usmr_2324_report_files/libs/quarto-html/popper.min.js"></script>
<script src="usmr_2324_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="usmr_2324_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="usmr_2324_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="usmr_2324_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="usmr_2324_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="usmr_2324_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="usmr_2324_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#group-work-policy" id="toc-group-work-policy" class="nav-link active" data-scroll-target="#group-work-policy">Group work policy</a></li>
  <li><a href="#what-you-need-to-submit" id="toc-what-you-need-to-submit" class="nav-link" data-scroll-target="#what-you-need-to-submit">What you need to submit</a></li>
  <li><a href="#page-limit" id="toc-page-limit" class="nav-link" data-scroll-target="#page-limit">Page limit</a></li>
  <li><a href="#report-formatting" id="toc-report-formatting" class="nav-link" data-scroll-target="#report-formatting">Report Formatting</a>
  <ul class="collapse">
  <li><a href="#a-template-.rmd-file" id="toc-a-template-.rmd-file" class="nav-link" data-scroll-target="#a-template-.rmd-file">A template .Rmd file</a></li>
  </ul></li>
  <li><a href="#submitting-your-files" id="toc-submitting-your-files" class="nav-link" data-scroll-target="#submitting-your-files">Submitting your files</a>
  <ul class="collapse">
  <li><a href="#pre-submission-checks" id="toc-pre-submission-checks" class="nav-link" data-scroll-target="#pre-submission-checks">Pre-submission checks</a></li>
  <li><a href="#filenames" id="toc-filenames" class="nav-link" data-scroll-target="#filenames">Filenames</a></li>
  <li><a href="#where-to-submit" id="toc-where-to-submit" class="nav-link" data-scroll-target="#where-to-submit">Where to submit</a></li>
  </ul></li>
  <li><a href="#grading" id="toc-grading" class="nav-link" data-scroll-target="#grading">Grading</a>
  <ul class="collapse">
  <li><a href="#peer-adjusted-marking" id="toc-peer-adjusted-marking" class="nav-link" data-scroll-target="#peer-adjusted-marking">Peer-adjusted marking</a></li>
  </ul></li>
  <li><a href="#how-to-approach-the-task" id="toc-how-to-approach-the-task" class="nav-link" data-scroll-target="#how-to-approach-the-task">How to approach the task</a></li>
  <li><a href="#any-questions" id="toc-any-questions" class="nav-link" data-scroll-target="#any-questions">Any Questions?</a></li>
  <li><a href="#the-coursework" id="toc-the-coursework" class="nav-link" data-scroll-target="#the-coursework">THE COURSEWORK</a>
  <ul class="collapse">
  <li><a href="#background-study-aims" id="toc-background-study-aims" class="nav-link" data-scroll-target="#background-study-aims">Background &amp; Study Aims</a>
  <ul class="collapse">
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a></li>
  </ul></li>
  <li><a href="#getting-the-data" id="toc-getting-the-data" class="nav-link" data-scroll-target="#getting-the-data">Getting the data</a></li>
  <li><a href="#report-tasks" id="toc-report-tasks" class="nav-link" data-scroll-target="#report-tasks">Report Tasks</a>
  <ul class="collapse">
  <li><a href="#check-the-data" id="toc-check-the-data" class="nav-link" data-scroll-target="#check-the-data">0. Check the data!</a></li>
  <li><a href="#what-do-we-know-about-the-sample-describe-and-explore" id="toc-what-do-we-know-about-the-sample-describe-and-explore" class="nav-link" data-scroll-target="#what-do-we-know-about-the-sample-describe-and-explore">1. What do we know about the sample? (Describe and Explore)</a></li>
  <li><a href="#the-emotional-effects-of-emoji" id="toc-the-emotional-effects-of-emoji" class="nav-link" data-scroll-target="#the-emotional-effects-of-emoji">2. The Emotional Effects of Emoji</a></li>
  <li><a href="#accuracy-of-interpretation" id="toc-accuracy-of-interpretation" class="nav-link" data-scroll-target="#accuracy-of-interpretation">3. Accuracy of Interpretation</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">USMR Group Project 2023/24</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<style type="text/css">
div.blue, div.red, div.green, div.yellow, div.frame{ 
    border-radius: 5px; 
    padding: 20px 20px 10px 20px; 
    margin-top: 20px; 
    margin-bottom: 20px; 
}
.title {color:#FCBB06}
.blue { background-color:#d9edf7 !important; }
.green { background-color:#dff0d8 !important; }
.yellow { background-color:#fcf8e3 !important; }
.red { background-color:#F3E3E5 !important; } 
.frame {border: 1px solid #333333 !important; }
</style>
</div>
<p>Your task is to describe and analyse some data in order to provide answers to a set of research questions. Analyses will draw on the methodologies we have discussed in lectures, readings and lab exercises.</p>
<div class="red">
<p><strong>Stop!</strong> Before you do anything else, make sure that every member of the group has a record of everyone else‚Äôs exam numbers, which can be found on their matriculation cards (<a href="https://buddy.vet.ed.ac.uk/help/how-to-find-your-exam-number/" target="_blank">see here for more information</a>). Whoever submits the coursework on behalf of the group will need to provide these numbers at submission time.</p>
</div>
<section id="group-work-policy" class="level1">
<h1>Group work policy</h1>
<p><strong>Please note that each group should submit a <em>single</em> report (two documents: see <a href="#what-you-need-to-submit">what-you-need-to-submit</a>). All group members are expected and encouraged to contribute to the report, but you should not work with other groups.</strong></p>
<p>Similarity checks will be performed, and further investigations will be carried out if assignments from different groups are similar.</p>
</section>
<section id="what-you-need-to-submit" class="level1">
<h1>What you need to submit</h1>
<p>Each group is required to submit 2 documents.</p>
<ol type="1">
<li>A final compiled report (<strong>.pdf</strong> format), detailing your analyses, results, interpretation and conclusions.
<ul>
<li><strong>No longer than 6 pages</strong>, excluding <em>optional</em> appendix (see <a href="#page-limit">below</a>)</li>
<li>Doesn‚Äôt contain visible R code. Sort of like the ‚Äúanalysis and results‚Äù section of a published paper, which describes, reports, presents and interprets (more detail in <a href="#how-to-approach-the-questions">how-to-approach-the-questions</a>).<br>
</li>
</ul></li>
<li>The <strong>.R</strong> or <strong>.Rmd</strong> document which reproduces the results you give in the report.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
</ol>
</section>
<section id="page-limit" class="level1">
<h1>Page limit</h1>
<p><strong>Your report should be no longer than 6 pages</strong>.</p>
<div class="frame">
<p><em>If you are knitting to html, please open the html in a browser and print to pdf in order to check how many pages your submission takes up).</em></p>
</div>
<p>An <strong>OPTIONAL</strong> Appendix of <strong>maximum four pages</strong><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> can be used to present <em>additional</em> tables and figures, if you wish (but there is no requirement to do this).</p>
<p>The appendix is a good place for <em>supplementary</em> materials. By this we mean figures and tables that are not strictly necessary for the reader to understand and replicate your results, but provide <em>additional</em> context to your report.</p>
<ul>
<li>good use of the appendix:<br>
<em>‚ÄúThe model met the assumptions of linear regression with residuals showing a constant mean of approximately zero across the fitted values (see appendix Fig X), and ‚Ä¶‚Äù</em></li>
<li>not so good use of the appendix:<br>
<em>‚ÄúThe model met assumptions (see appendix Fig X).‚Äù</em></li>
</ul>
</section>
<section id="report-formatting" class="level1">
<h1>Report Formatting</h1>
<p>We expect most groups to do their analyses using a standalone R script, and to write the report in a separate word-processor document detailing those analyses. You should then export the word-processor document to <strong>.pdf</strong> format for submission. The R Script should remain as a text file with a <strong>.R</strong> suffix.</p>
<p>For some groups, it may be sensible to use a collaborative word-processor such as Google Docs. Unfortunately there are no straightforward ways to edit <strong>.R</strong> documents collaboratively; we suggest that each group ensures it knows who holds the ‚Äúmaster copy‚Äù of the script that will be submitted.</p>
<p>Some groups may find it useful to use RMarkdown (<strong>.Rmd</strong>) files for initial formatting. For example, you might like to knit to a Word file from an RMarkdown document, and to subsequently make edits to your text and formatting in the Word document itself (or in a Google Doc obtained by uploading the Word document to Google Drive).<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>We don‚Äôt mind which of these approaches each group takes: <strong>The important thing to remember is that the data analysis and modelling results in the report should match those produced in your R or RMarkdown file.</strong></p>
<p>If you <em>do</em> wish to do some or all of your formatting in RMarkdown, then we suggest the following readings for help:</p>
<ul>
<li><a href="https://uoepsy.github.io/scs/rmd-bootcamp" target="_blank">UoEPsy Rmd-Bootcamp</a><br>
</li>
<li><a href="https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf" target="_blank">RMarkdown CheatSheet</a><br>
</li>
<li><a href="https://rpruim.github.io/s341/S19/from-class/MathinRmd.html#:~:text=Math%20inside%20RMarkdown,10n%3D1n2." target="_blank">Writing Math in Rmd</a></li>
</ul>
<p>Feel free also to post formatting questions on the Piazza discussion forum.</p>
<div class="yellow">
<p><strong>A note on knitting .Rmd directly to pdf</strong></p>
<p>Getting RMarkdown to knit directly to pdf can be a pain, and formatting is difficult.</p>
<p>We recommend:</p>
<ul>
<li>knit to <strong>.html</strong>, then Ctrl+P to print to <strong>.pdf</strong></li>
<li>knit to <strong>.docx</strong>, then export to <strong>.pdf</strong></li>
</ul>
</div>
<!--

::: {.cell}

:::

-->
<section id="a-template-.rmd-file" class="level2">
<h2 class="anchored" data-anchor-id="a-template-.rmd-file">A template .Rmd file</h2>
<p>We have provided a template <strong>.Rmd</strong> file for you to use, which can be downloaded <a href="https://uoepsy.github.io/usmr/2324/misc/usmr2324rep_template.Rmd" target="_blank">here</a>. In the template, you will find empty code chunks for you to add R code to. However, you should feel free to create more if you wish: This is just a template, and is mainly designed to make your life easier. The template sets <code>echo = FALSE</code> for all code-chunks. This means that your R code (but not the output) is hidden in the compiled document.</p>
<div class="frame">
<p><em>If you use RStudio on the PPLS Server, you will need to upload the template .Rmd file to your space on the server in order to use it.</em></p>
</div>
</section>
</section>
<section id="submitting-your-files" class="level1">
<h1>Submitting your files</h1>
<section id="pre-submission-checks" class="level3">
<h3 class="anchored" data-anchor-id="pre-submission-checks">Pre-submission checks</h3>
<p>Before submitting, we <strong>strongly advise</strong> you to check that your group‚Äôs code runs. The easiest way to check this is to:</p>
<ul>
<li><strong>if using an .R script:</strong> Clear your environment, restart your R session (top menu, Session &gt; Restart R), and run your code line by line to see if any errors arise.<br>
</li>
<li><strong>if using RMarkdown:</strong> Check that your .Rmd compiles (i.e., can you <code>knit</code> your Rmarkdown document into <code>.html</code>/<code>.pdf</code>/<code>.docx</code> without error?)</li>
</ul>
<div class="frame">
<p><em>If you use RStudio on the PPLS Server, you may need to <a href="img/download-html.png" target="_blank">export the file</a> to your computer in order to upload it to Turnitin.</em></p>
</div>
</section>
<section id="filenames" class="level3">
<h3 class="anchored" data-anchor-id="filenames">Filenames</h3>
<p>For both files which you submit, the filename should be your group name with the appropriate extension, and nothing else.<br>
For example, the group <strong>Asymptotic Antelopes</strong> would submit two files:</p>
<ul>
<li>one of <strong>AsymptoticAntelopes.R</strong> / <strong>AsymptoticAntelopes.Rmd</strong></li>
<li><strong>AsymptoticAntelopes.pdf</strong></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Working individually?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For anyone who has obtained permission to complete the task individually, please name each file with your exam number (the letter ‚ÄúB‚Äù followed by a six digit number - which can be found on your student card: <a href="https://buddy.vet.ed.ac.uk/help/how-to-find-your-exam-number/">See here for more information</a>). For example, if your exam number was B123456 you would submit:</p>
<ul>
<li>one of <strong>B123456.R</strong> / <strong>B123456.Rmd</strong></li>
<li><strong>B123456.pdf</strong></li>
</ul>
<p>You should also write your exam number in the ‚ÄúSubmission Title‚Äù box prior to submission.</p>
</div>
</div>
</div>
</section>
<section id="where-to-submit" class="level3">
<h3 class="anchored" data-anchor-id="where-to-submit">Where to submit</h3>
<div class="red">
<p><strong>ONLY ONE PERSON FROM EACH GROUP NEEDS TO SUBMIT</strong></p>
<p>We suggest that you do this together/on a call, so that all group members are able to confirm that they are happy to submit.</p>
<p>Go to the Assessments page on Learn, and look for ‚ÄúAssessment Submission‚Äù. There you will find an own-work declaration which requires marking as reviewed, before two submission boxes will be visible (one for each file), where you can submit.</p>
<p>For <strong>each file</strong> you should complete the ‚ÄúSubmit File‚Äù popup by entering the exam numbers of <em>all of your group members</em> in the ‚ÄúSubmission Title‚Äù box (see below).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/submissionbox.png" class="img-fluid figure-img" style="width:50.0%"></p>
</figure>
</div>
<section id="late-penalties" class="level3">
<h3 class="anchored" data-anchor-id="late-penalties">Late penalties</h3>
<p>Submissions are considered late until <strong>both</strong> files are submitted on Turnitin (<a href="https://uoe.sharepoint.com/sites/hss/ppls/MScHub/SitePages/Late-Penalties.aspx" target="_blank">see the PPLS policy on late penalties on the MSc Hub</a>).</p>
</section>
</div>
</section>
</section>
<section id="grading" class="level1">
<h1>Grading</h1>
<p><strong>We are primarily marking each group‚Äôs <em>report</em>, and <em>not</em> your code</strong><br>
Grades and feedback are provided for the finished reports, with marks awarded for providing evidence of the ability to:</p>
<ul>
<li>understand and execute appropriate statistical methods to answer each of the questions</li>
<li>provide clear explanation of the methods undertaken</li>
<li>provide clear and accurate presentation and interpretation of results and conclusions.</li>
</ul>
<p><strong>Why we still want your code</strong><br>
We still require your code so that we can assess the reproducibility of your work. We also use it as a way to give you extra marks based on the elegance of your coding and/or use of RMarkdown.</p>
<ul>
<li>Five points will be deducted from your final grade if your marker cannot determine how the results in your report were generated in your <code>.Rmd</code>/<code>.R</code> document (for example, if the code produces errors or produces values different from those reported). This means that a 75 out of 100 becomes 70 out of 100.</li>
<li><strong>Up to</strong> ten points will be added for good use of R or RMarkdown (for example, where code is elegant, or when inline R code is used to report results in the text). For example, a 70 might be raised up to 80.</li>
</ul>
<section id="peer-adjusted-marking" class="level2">
<h2 class="anchored" data-anchor-id="peer-adjusted-marking">Peer-adjusted marking</h2>
<p>Once the group project has been submitted, every member of the group will complete the peer-assessment, in which you will be asked to award ‚Äúmark adjustments‚Äù to yourself and to each of the other members of your group. This will be done through Learn; details will be made available over the next couple of weeks. Each submitted mark should be understood as follows: Relative to the group as a whole, how much did each member contribute? If someone made an average contribution, you should award that person an adjustment of zero. If they contributed substantially more, you may choose to give a positive mark; if they genuinely contributed less, you might choose a negative mark. Marks for each group member are averaged together, and then used as ‚Äúweights‚Äù to adjust the overall project mark. You can see an example of how this logic works by visiting <a href="https://uoe-psy.shinyapps.io/peer_adj/" class="uri">https://uoe-psy.shinyapps.io/peer_adj/</a> where there is a ‚Äúlive demo‚Äù of a peer-adjustment system.</p>
<p>If you don‚Äôt contribute any peer-adjustment marks, we will treat this as equivalent to saying that, in your opinion, everyone in the group contributed equally to the project (i.e., you awarded zero to each group member).</p>
</section>
</section>
<section id="how-to-approach-the-task" class="level1">
<h1>How to approach the task</h1>
<p>For each of the questions below, the report (final <code>.pdf</code>) is expected to include:</p>
<ol type="A">
<li><strong>Clear written details of the analysis conducted</strong> and how it can provide an answer the question, including transparency with regards to decisions made about the data prior to and during analyses.</li>
<li><strong>Presentation of results</strong> where appropriate (in the form of tables or plots).</li>
<li><strong>Statistical findings</strong>, in appropriate detail (for instance, a test statistic, standard error, and p-value, not just one of these). Remember to cite degrees of freedom where needed.</li>
<li><strong>Interpretation</strong> (in the form of a written paragraph(s) referencing relevant parts of your results and statistics) leading to a conclusion regarding the question.</li>
</ol>
<p>The code you write in your submitted <code>.R</code>/<code>.Rmd</code> file should successfully undertake the analysis described in A), which returns C). You should also include the code to produce B).</p>
<div class="yellow">
<p><strong>Important (Helpful) Tips:</strong></p>
<ul>
<li><p>The <code>.pdf</code> report should not contain visible R code, meaning that a large part of the challenge comes in clearly describing all aspects of the analysis procedure.</p></li>
<li><p>A reader of your report should be able to more or less replicate your analyses <strong>without</strong> referring to your R code (or using R, if they are unenlightened).<br>
</p></li>
<li><p>Write as if the reader has a very basic understanding of statistics and does not necessarily use R.</p></li>
<li><p>You do <strong>not</strong> need to include information about the study background or the collection of the data in your report.</p></li>
</ul>
</div>
</section>
<section id="any-questions" class="level1">
<h1>Any Questions?</h1>
<p>This document contains a basic overview of the task and of how to submit it. If you have any questions concerning the coursework report, we ask that you post them on the designated section of the Piazza discussion forum on Learn. If you have a question, it is likely your classmates may have the same question. Before posting a question, please check the on-line board in case it has already been answered.</p>
<div style="margin-bottom:70px">

</div>
<hr>
<div style="margin-bottom:70px">

</div>
</section>
<section id="the-coursework" class="level1 page-columns page-full">
<h1>THE COURSEWORK</h1>
<section id="background-study-aims" class="level2">
<h2 class="anchored" data-anchor-id="background-study-aims">Background &amp; Study Aims</h2>
<section id="section" class="level3 unnumbered unlisted">
<h3 class="unnumbered unlisted anchored" data-anchor-id="section">üîôüèû &amp; üìäüèÅ</h3>
<p>A group of researchers is interested in the increasing use of emoji for communication, and in how they are interpreted. In particular, they are interested in whether emoji can be used to convey emotional information. Previous research suggests that, unsurprisingly, people who use emoji more frequently understand them better. The researchers are interested in whether the age of the user also has an effect, although they are not sure whether the effect will be the same for all types of emoji.</p>
<p>In this study the researchers have focused on three specific emoji which are widely used, and which have previously been associated with emotional ambiguity (‚Äúloudly crying face‚Äù, üò≠; ‚Äúthumbs up‚Äù, üëç; ‚Äúslightly smiling face‚Äù, üôÇ). They are interested in participants‚Äô <em>emotional responses</em> to the emoji, and (separately) in whether their interpretations of the emoji are accurate (in the sense of agreeing with the ways in which the emoji are generally interpreted).</p>
</section>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">Methods</h3>
<p>A random sample of participants took part in the study, using their own smartphones. They were asked to provide their ages and to estimate how frequently they used emoji; because emoji can look different on different phones, the experimental software also recorded which operating system they were using (apple or android). In the main part of the experiment, they were shown a single emoji (one of 3, as detailed above) and were asked to type in an interpretation of its meaning. As well as recording what was typed in, the experimental software recorded a number of other metrics which were combined to produce an <em>emotional valence score</em> (EVS), a single number which represents a participant‚Äôs emotional state while typing (higher value = more positive emotions, with zero as ‚Äòneutral‚Äô).<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> The researchers subsequently read each description, and coded it as ‚Äúcorrect‚Äù or ‚Äúincorrect‚Äù depending on whether they believed it corresponded to the most widely-used interpretations of the emoji.</p>
</section>
</section>
<section id="getting-the-data" class="level2">
<h2 class="anchored" data-anchor-id="getting-the-data">Getting the data</h2>
<p>You can access the data by running the following lines, where you replace the words <code>asymptotic_antelopes</code> with your group name (keep the quotes).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"https://edin.ac/4616rYu"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">get_my_data</span>(<span class="at">group_name =</span> <span class="st">"asymptotic_antelopes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Working individually?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For anyone who has obtained permission to complete the task individually, please use your exam number (the letter ‚ÄúB‚Äù followed by a six digit number - which can be found on your student card: <a href="https://buddy.vet.ed.ac.uk/help/how-to-find-your-exam-number/">See here for more information</a>), and set <code>individual = TRUE</code> in the <code>get_my_data()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"https://edin.ac/4616rYu"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>emoji <span class="ot">&lt;-</span> <span class="fu">get_my_data</span>(<span class="at">group_name =</span> <span class="st">"B123456"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">individual =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>You may want to put the (edited) lines above at the beginning of your analysis script to ensure that you are analysing the correct data.</p>
<p>After running the code above, data from the emoji experiment are found in the object <code>emoji</code> (see <a href="#tbl-emdatdic">Table&nbsp;1</a>) in your environment.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please note: The data you are analysing is not real! Although we have tried to make the values plausible, you don‚Äôt need to know anything about emoji or how mobile phones work in order to complete the report, which should be written <em>as if</em> the data was collected as described.</p>
<p>Note also that the data you obtain will be unique to your group, which means that the results of any statistics you run will also be unique to the group. In some cases, you may find different significant effects to those of other groups: This is nothing to worry about, and your markers will know how to check your individual results.</p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-emdatdic" class="anchored">

<div id="ikmbzzivyr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ikmbzzivyr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ikmbzzivyr thead, #ikmbzzivyr tbody, #ikmbzzivyr tfoot, #ikmbzzivyr tr, #ikmbzzivyr td, #ikmbzzivyr th {
  border-style: none;
}

#ikmbzzivyr p {
  margin: 0;
  padding: 0;
}

#ikmbzzivyr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ikmbzzivyr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ikmbzzivyr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ikmbzzivyr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ikmbzzivyr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ikmbzzivyr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ikmbzzivyr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ikmbzzivyr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ikmbzzivyr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ikmbzzivyr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ikmbzzivyr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ikmbzzivyr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ikmbzzivyr .gt_spanner_row {
  border-bottom-style: hidden;
}

#ikmbzzivyr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ikmbzzivyr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ikmbzzivyr .gt_from_md > :first-child {
  margin-top: 0;
}

#ikmbzzivyr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ikmbzzivyr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ikmbzzivyr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ikmbzzivyr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ikmbzzivyr .gt_row_group_first td {
  border-top-width: 2px;
}

#ikmbzzivyr .gt_row_group_first th {
  border-top-width: 2px;
}

#ikmbzzivyr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikmbzzivyr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ikmbzzivyr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ikmbzzivyr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ikmbzzivyr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikmbzzivyr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ikmbzzivyr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ikmbzzivyr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ikmbzzivyr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ikmbzzivyr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ikmbzzivyr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikmbzzivyr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ikmbzzivyr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ikmbzzivyr .gt_left {
  text-align: left;
}

#ikmbzzivyr .gt_center {
  text-align: center;
}

#ikmbzzivyr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ikmbzzivyr .gt_font_normal {
  font-weight: normal;
}

#ikmbzzivyr .gt_font_bold {
  font-weight: bold;
}

#ikmbzzivyr .gt_font_italic {
  font-style: italic;
}

#ikmbzzivyr .gt_super {
  font-size: 65%;
}

#ikmbzzivyr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ikmbzzivyr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ikmbzzivyr .gt_indent_1 {
  text-indent: 5px;
}

#ikmbzzivyr .gt_indent_2 {
  text-indent: 10px;
}

#ikmbzzivyr .gt_indent_3 {
  text-indent: 15px;
}

#ikmbzzivyr .gt_indent_4 {
  text-indent: 20px;
}

#ikmbzzivyr .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1:  <p>emoji Data Dictionary</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="variable">variable</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="description">description</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="variable" class="gt_row gt_left">name</td>
<td headers="description" class="gt_row gt_left">participant name</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">age</td>
<td headers="description" class="gt_row gt_left">age of participant (in years)</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">opsys</td>
<td headers="description" class="gt_row gt_left">operating system of phone</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">freq_emu</td>
<td headers="description" class="gt_row gt_left">self-reported frequency of emoji use (emoji/day)</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">em_cat</td>
<td headers="description" class="gt_row gt_left">type of emoji presented to this participant</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">EVS</td>
<td headers="description" class="gt_row gt_left">emotional valence score (-infinity to infinity)</td></tr>
    <tr><td headers="variable" class="gt_row gt_left">EI</td>
<td headers="description" class="gt_row gt_left">emoji interpretation ('correct' vs 'incorrect')</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</section>
<section id="report-tasks" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="report-tasks">Report Tasks</h2>
<section id="check-the-data" class="level3">
<h3 class="anchored" data-anchor-id="check-the-data">0. Check the data!</h3>
<p>Researchers can‚Äôt always be trusted to provide perfect data (and your course team is no exception üòà). Make sure you check over your data before starting on the report.</p>
</section>
<section id="what-do-we-know-about-the-sample-describe-and-explore" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="what-do-we-know-about-the-sample-describe-and-explore">1. What do we know about the sample? (Describe and Explore)</h3>
<p><em>Suggestion: 2 pages</em></p>

<div class="no-row-height column-margin column-container"><div class="">
<p><strong>Hint:</strong> When providing a description of your sample, think about the tradeoff between space used (by, for example, a figure or table) and detail (in writing). There‚Äôs no <em>right</em> way to describe the sample, but readers will want to understand the basic ‚Äúshape‚Äù of the data.</p>
</div></div><p>Prior to conducting the main analyses, the researchers would like some descriptive statistics on the participants in the study. In addition, they would like you to test and report on:</p>
<ol type="a">
<li>Whether there‚Äôs any difference in the frequency of emoji use between apple and android users.<br>
</li>
<li>Whether there is an association between age and frequency of emoji use, and if so, in what direction.</li>
<li>Whether there is a balance between apple and android users for each category of emoji.</li>
</ol>
<p>Provide a suitable brief description of the dataset, and then answer each of the questions above using an appropriate statistical test.</p>
</section>
<section id="the-emotional-effects-of-emoji" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-emotional-effects-of-emoji">2. The Emotional Effects of Emoji</h3>
<p><em>Suggestion: 2 pages</em></p>

<div class="no-row-height column-margin column-container"><div class="">
<p><strong>Hint:</strong> Neither this analysis nor the one below need be very complex. Think about the <a href="#background-study-aims">background-&amp;-study-aims</a>, and what the researchers already ‚Äúknow‚Äù to be true; what they suspect might affect things (but aren‚Äôt necessarily interested in); and what the focus of their research is.</p>
<p>Have another look at <a href="#how-to-approach-the-questions">how-to-approach-the-questions</a> for some guidance on what you might include in this section (and in section 3).</p>
</div></div><p>The <strong>first major research aim</strong> is to investigate which factors influence <em>emotional resonance</em>.<br>
Conduct and write up appropriate analysis/analyses to address this question.<br>
<strong>Take care to keep in mind the study aims.</strong></p>
</section>
<section id="accuracy-of-interpretation" class="level3">
<h3 class="anchored" data-anchor-id="accuracy-of-interpretation">3. Accuracy of Interpretation</h3>
<p><em>Suggestion: 2 pages</em></p>
<p>The <strong>second research aim</strong> is to explore what factors make participants more or less likely to correctly interpret emoji. Again, your task is to conduct and write up appropriate analysis/analyses to address this research aim of the study.</p>
</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><strong>.qmd</strong> is also acceptable.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>meaning that your final <code>.pdf</code> file should be max 10 pages.<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p><a href="https://rstudio.ppls.ed.ac.uk">https://rstudio.ppls.ed.ac.uk</a> supports knitting to <strong>.html</strong>, <strong>.pdf</strong> and word (<strong>.docx</strong>); choose by clicking the drop-down arrow next to ‚ÄúKnit‚Äù.<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p>If this were true, the metrics recorded might include things such as speed of typing, how hard the screen is touched to produce each character, how steadily the phone is held, and an analysis of the participant‚Äôs facial expression. There‚Äôs no need to comment on this in the report, though; just go with EVS as a score which measures emotion üòâ.<a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>