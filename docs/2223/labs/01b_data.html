<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>USMR - 1B: More R - Basic Data Skills</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);
e.style.display = ((e.style.display!='none') ? 'none' : 'block');
if(f.classList.contains('fa-hand-o-right')) {
    f.classList.add('fa-hand-o-down')
    f.classList.remove('fa-hand-o-right')
} else {
    f.classList.add('fa-hand-o-right')
    f.classList.remove('fa-hand-o-down')
}
}
</script>

<script src="https://kit.fontawesome.com/120b08a6f5.js" crossorigin="anonymous"></script>
<link href="site_libs/panelset-0.2.6/panelset.css" rel="stylesheet">
<script src="site_libs/panelset-0.2.6/panelset.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">USMR</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-1" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 1</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-1">    
        <li>
    <a class="dropdown-item" href="./01a_R.html">
 <span class="dropdown-text">1A: First look at R/RStudio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./01b_data.html">
 <span class="dropdown-text">1B: More R: Basic Data Skills</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./01_ex.html">
 <span class="dropdown-text">Exercises: Intro R</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-2" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 2</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-2">    
        <li>
    <a class="dropdown-item" href="./02a_measurement.html">
 <span class="dropdown-text">2A: Measurements &amp; Distributions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./02b_sampling.html">
 <span class="dropdown-text">2B: Sampling &amp; Curves</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./02_ex.html">
 <span class="dropdown-text">Exercises: More R; Estimates &amp; Intervals</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-3" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 3</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-3">    
        <li>
    <a class="dropdown-item" href="./03a_inference.html">
 <span class="dropdown-text">3A: Foundations of Inference</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./03b_inference2.html">
 <span class="dropdown-text">3B: Practical Inference</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./03_ex.html">
 <span class="dropdown-text">Exercises: T-tests</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-4" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 4</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-4">    
        <li>
    <a class="dropdown-item" href="./04a_chisq.html">
 <span class="dropdown-text">4A: Chi-Square Tests</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./04b_revisitnhst.html">
 <span class="dropdown-text">4B: Revisiting NHST</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./04_ex.html">
 <span class="dropdown-text">Exercises: Chi-Square Tests</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-5" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 5</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-5">    
        <li>
    <a class="dropdown-item" href="./05a_covcor.html">
 <span class="dropdown-text">5A: Covariance &amp; Correlation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./05_ex.html">
 <span class="dropdown-text">Exercises: Cov, Cor, Models</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-6" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 6</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-6">    
        <li>
    <a class="dropdown-item" href="./06_wt.html">
 <span class="dropdown-text">Walkthrough: Advanced Data Wrangling</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-7" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 7</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-7">    
        <li>
    <a class="dropdown-item" href="./07a_slr.html">
 <span class="dropdown-text">7A: Simple Linear Regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./07_ex.html">
 <span class="dropdown-text">Exercises: Simple Linear Regression</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-8" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 8</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-8">    
        <li>
    <a class="dropdown-item" href="./08a_mlr.html">
 <span class="dropdown-text">8A: Multiple Linear Regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./08b_assumptdiag.html">
 <span class="dropdown-text">8B: Assumptions, Diagnostics, and Troubleshooting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./08_ex.html">
 <span class="dropdown-text">Exercises: Multiple Linear Regression</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-9" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 9</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-9">    
        <li>
    <a class="dropdown-item" href="./09a_interactions.html">
 <span class="dropdown-text">9A: Interactions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./09b_contrasts.html">
 <span class="dropdown-text">9B: Categorical Predictors</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./09_ex.html">
 <span class="dropdown-text">Exercises: Interactions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-10" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 10</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-10">    
        <li>
    <a class="dropdown-item" href="./10a_glm.html">
 <span class="dropdown-text">10A: GLM!</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./10_ex.html">
 <span class="dropdown-text">Exercises: Logistic Regression</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-11" role="button" data-bs-toggle="dropdown" aria-expanded="false">Week 11</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-11">    
        <li>
    <a class="dropdown-item" href="./11_finish.html">
 <span class="dropdown-text">Exercises</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#vectors" id="toc-vectors" class="nav-link active" data-scroll-target="#vectors">Vectors</a></li>
  <li><a href="#dataframes" id="toc-dataframes" class="nav-link" data-scroll-target="#dataframes">Dataframes</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link" data-scroll-target="#r-packages">R Packages</a></li>
  <li><a href="#checkpoint---where-are-you-writing-your-code" id="toc-checkpoint---where-are-you-writing-your-code" class="nav-link" data-scroll-target="#checkpoint---where-are-you-writing-your-code">Checkpoint - where are you writing your code?</a></li>
  <li><a href="#basic-data-wrangling" id="toc-basic-data-wrangling" class="nav-link" data-scroll-target="#basic-data-wrangling">Basic Data Wrangling</a>
  <ul class="collapse">
  <li><a href="#accessing-subsets-of-data" id="toc-accessing-subsets-of-data" class="nav-link" data-scroll-target="#accessing-subsets-of-data">Accessing subsets of data</a></li>
  <li><a href="#accessing-by-a-condition" id="toc-accessing-by-a-condition" class="nav-link" data-scroll-target="#accessing-by-a-condition">Accessing by a condition</a></li>
  <li><a href="#more-complex-conditions" id="toc-more-complex-conditions" class="nav-link" data-scroll-target="#more-complex-conditions">More complex conditions</a></li>
  <li><a href="#editing-specific-entries" id="toc-editing-specific-entries" class="nav-link" data-scroll-target="#editing-specific-entries">Editing specific entries</a></li>
  <li><a href="#editing-entries-via-a-condition" id="toc-editing-entries-via-a-condition" class="nav-link" data-scroll-target="#editing-entries-via-a-condition">Editing entries via a condition</a></li>
  <li><a href="#addingchanging-a-variable" id="toc-addingchanging-a-variable" class="nav-link" data-scroll-target="#addingchanging-a-variable">Adding/Changing a variable</a></li>
  <li><a href="#removing-rows-or-columns" id="toc-removing-rows-or-columns" class="nav-link" data-scroll-target="#removing-rows-or-columns">Removing rows or columns</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">1B: More R - Basic Data Skills</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<!-- __Reading time: 25 minutes__   -->
<div class="lo">
<p>This reading:</p>
<ul>
<li>How does R store data?</li>
<li>What can R <em>do</em>?</li>
<li>How can we use R to access and manipulate data?</li>
</ul>
</div>
<section id="vectors" class="level1">
<h1>Vectors</h1>
<p>We’ve already seen how to assign a value to a name/symbol using <code>&lt;-</code>. However, we’ve only seen how to assign a single number, e.g, <code>x &lt;- 5</code>.<br>
In almost all cases, the data we are working with is more than just individual numbers. We might have measured the IQ of 20 different people, in which case we have 20 numbers representing IQ scores. More commonly, we work with 2-Dimensional arrays of numbers, e.g.&nbsp;each row is an observation, and each column represents something we have measured.</p>
<p>To store a sequence of numbers into R, we <em>combine</em> the values using <code>c()</code> and give the sequence a name. A sequence of elements all of the same type is called a <strong>vector</strong>. To view the stored content, simply type the name of the vector.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>myfirstvector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">7</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>myfirstvector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 5 3 7</code></pre>
</div>
</div>
<p>We can perform arithmetic operations on each value of the vector. For example, to add five to each entry:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>myfirstvector <span class="sc">+</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  6 10  8 12</code></pre>
</div>
</div>
<p>Recall that vectors are sequences of elements <strong>all of the same type</strong>. They do not have to be always numbers; they could be words such as real or fictional animals. Words need to be written inside quotations, e.g.&nbsp;“anything”, and instead of being of numeric type, we say they are characters.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>wordsvector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cat"</span>, <span class="st">"dog"</span>, <span class="st">"parrot"</span>, <span class="st">"peppapig"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>wordsvector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cat"      "dog"      "parrot"   "peppapig"</code></pre>
</div>
</div>
<div class="rtip">
<p>You can use either double-quote or single-quote:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"cat"</span>, <span class="st">"dog"</span>, <span class="st">"parrot"</span>, <span class="st">"peppapig"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cat"      "dog"      "parrot"   "peppapig"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">'cat'</span>, <span class="st">'dog'</span>, <span class="st">'parrot'</span>, <span class="st">'peppapig'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cat"      "dog"      "parrot"   "peppapig"</code></pre>
</div>
</div>
</div>
<p>It does not make sense to add a number to words, hence some operations like addition and multiplication are only defined on vectors of numeric type. If you make a mistake, R will warn you with a red error message.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>wordsvector <span class="sc">+</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p style="color:red">
Error in wordsvector + 5 : non-numeric argument to binary operator
</p>
<p>Finally, it is important to notice that if you combine together in a vector a number and a word, R will transform all elements to be of the same type. Why? Recall: vectors are sequences of elements <strong>all of the same type</strong>. Typically, R chooses the most general type between the two. In this particular case, it would make everything a <strong>character</strong> (sequence of letters), check the ““, as it would be harder to transform a word into a number!</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>mysecondvector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="st">"cat"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>mysecondvector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "4"   "cat"</code></pre>
</div>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="dataframes" class="level1">
<h1>Dataframes</h1>
<div class="rtip">
<p>Dataframes are simply collections of vectors of the same length.</p>
<p>For instance, we could create a dataframe containing information on the name and birth year of each member of The Beatles. The easiest way to think of this would be to have a row for each Beatle, and a column for each of their names and their birth-years. Note that each vector contains all the same type of information (the names are all strings of characters, and the birth years are all numbers):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"john"</span>,<span class="st">"paul"</span>,<span class="st">"george"</span>,<span class="st">"ringo"</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">birth_year =</span> <span class="fu">c</span>(<span class="dv">1940</span>,<span class="dv">1942</span>,<span class="dv">1943</span>,<span class="dv">1940</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    name birth_year
1   john       1940
2   paul       1942
3 george       1943
4  ringo       1940</code></pre>
</div>
</div>
</div>
<p>While we can manually create data like we did above, more often we will need to <em>import</em> into R some data which has been created elsewhere (like in excel, or by some software which is used to present participants with experiments).</p>
<p>Let’s suppose we have instead entered data in something like Microsoft Excel, or LibreOffice Calc, or whatever spreadsheet software we have available (<a href="#fig-excel">Figure&nbsp;1</a>).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-excel" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/installing_intro/create_data.png" class="img-fluid figure-img" style="width:49.0%"></p>
<p></p><figcaption class="figure-caption">Figure 1: Data entered in spreadsheet software like Microsoft Excel</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>We can then save that data as a <strong>.csv</strong> file. Although R can read data when it’s saved in Microsoft/LibreOffice formats, the simplest, and most universal way to save data is as simple text, with the values separated by some character. The <strong>.csv</strong> format stands for <strong>comma separated values.</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>Back in RStudio, we need to have a way of getting the information contained in that file <em>into</em> R’s environment, so that we can do things with it. We can do this by using the <code>read.csv()</code> function, and directing it to the file you just saved.<br>
<em>note: if you are using RStudio on a server - i.e.&nbsp;accessing it via a web-browser - then you will need to upload the file you just saved to the server (see the “upload” button in the Files tab in the bottom right pane of R).</em></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="st">"data_from_excel.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>    name birth_year
1   John       1940
2   Paul       1942
3 George       1943
4  Ringo       1940</code></pre>
</div>
</div>
<div class="rtip">
<p><strong>Helpful tip</strong></p>
<p>If you have your text-cursor inside the quotation marks, and press the tab key on your keyboard, it will show you the files inside your project. You can then use the arrow keys to choose between them and press Enter to add the code:</p>
</div>
<p>There’s one more thing that we need to do, and that is to actually store this information in our environment. Currently, it is just printing out the data. We need to assign it a name:</p>
<div class="cell" data-layout-align="center">

</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>beatles <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data_from_excel.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We should now have something called “beatles” which is visible in the <em>environment</em> pane of RStudio (top right).</p>
<p>And we can print it out by simply invoking its name:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>beatles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    name birth_year
1   John       1940
2   Paul       1942
3 George       1943
4  Ringo       1940</code></pre>
</div>
</div>
<p>And we can do things such as ask R how many rows and columns there are (asking for the “dimensions” using <code>dim()</code>):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(beatles)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 2</code></pre>
</div>
</div>
<p>This says that there are 4 members of the Beatles, and for each we have 2 measurements.</p>
<p>To get more insight into what the data actually are, you can either use the structure <code>str()</code> function:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(beatles)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   4 obs. of  2 variables:
 $ name      : chr  "John" "Paul" "George" "Ringo"
 $ birth_year: int  1940 1942 1943 1940</code></pre>
</div>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="functions" class="level1">
<h1>Functions</h1>
<p>We’ve just seen some use of <code>c()</code>, <code>read.csv()</code>, <code>dim()</code> and <code>str()</code>.<br>
There’s something that all these things have in common - they are <strong>functions.</strong></p>
<div class="sticky">
<p><strong>Functions</strong> perform specific operations / transformations in computer programming.</p>
<p>They can have <strong>inputs</strong> and <strong>outputs</strong>. For example, <code>dim()</code> takes some data you have stored in R as its <strong>input</strong>, and gives the dimensions of the data as its <strong>output</strong>.</p>
</div>
<p>There are loads and loads of functions in R. This is really where the power lies. Here is a demonstration of a couple of basic ones. Hopefully you can guess what they are doing?</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>myfirstvector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">7</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(myfirstvector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(myfirstvector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<div class="rtip">
<p><strong>Getting Help on Functions</strong></p>
<p>Almost all functions in R will have associated documentation describing what they do. If we don’t know what a function does, we can read the help docs by typing a question mark and then the function name, and running it in R. <code>?mean</code> will bring up a little help page in the bottom-right pane of RStudio</p>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="r-packages" class="level1">
<h1>R Packages</h1>
<p>Alongside the basic installation of R and RStudio, there are many add-on packages which the R community create and maintain. The thousands of packages are part of what makes R such a powerful and useful tool - there is a package for almost everything you could want to do in R.</p>
<div class="sticky">
<p><strong>Packages</strong> are bundles of functions, code, data, documentation, etc.</p>
<p>To install a package onto our computer we use <code>install.packages("package name")</code>.<br>
Then, any time that we want to use that package we just need to load it into our current R session with <code>library(package name)</code>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-libraries" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/installing_intro/libraries.jpeg" class="img-fluid figure-img" style="width:60.0%"></p>
<p></p><figcaption class="figure-caption">Figure 2: Source: <a href="https://twitter.com/visnut/status/1248087845589274624"><span class="citation" data-cites="visnut">@visnut</span></a></figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<div class="frame">
<center>
<strong>Example: Installing and using a package</strong>
</center>
<p>Here we’re going to install a silly package called <strong>cowsay</strong>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"cowsay"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This spits out a lot of messages, before (hopefully) ending with something similar to:</p>
<p style="color:red;margin-left:30px;">
…<br> …<br> * DONE (cowsay)<br> <br> The downloaded source packages are in<br> ‘/tmp/RtmpIRbMnh/downloaded_packages’
</p>
<p><span style="color:blue;margin-left:30px;">&gt;</span></p>
<p>Now that we’ve installed it, to use it we just need to load it into our R session, by using <code>library()</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowsay)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Which enables us to now use some of the functionality that is in that package, such as the <code>say()</code> function, which makes some silly art out of punctuation symbols:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">say</span>(<span class="st">"Welcome to the USMR course!"</span>, <span class="at">by =</span> <span class="st">"owl"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 ----- 
Welcome to the USMR course! 
 ------ 
    \   
     \  
      \
       /\___/\
       {o}{o}|
       \ v  /|
       |    \ \
        \___/_/       [ab] 
          | | </code></pre>
</div>
</div>
</div>
<div style="max-width:49%;display:inline-block;vertical-align:middle">
<p>It’s good practice to have all the packages you use for an analysis loaded at the top of your script.</p>
<p>A typical structure for an R script is to:</p>
<ol type="1">
<li>load all the required packages</li>
<li>read in the data</li>
<li>conduct your analysis</li>
</ol>
</div>
<div style="max-width:49%;display:inline-block;vertical-align:top">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-packload" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/installing_intro/packload.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure 3: Typical script layout</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<div class="rtip">
<p>We will be using these packages quite a lot in this course, so you might want to install them now:</p>
<ul>
<li>tidyverse</li>
<li>patchwork TODO add any more?</li>
</ul>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="checkpoint---where-are-you-writing-your-code" class="level1">
<h1>Checkpoint - where are you writing your code?</h1>
<p>Hopefully, if you are following along with us, you are writing your code in a script, and not in the console. <strong>Remember: Code that you write in the console is <em>not</em> saved</strong>.</p>
<p>Sometimes, however, for certain things, we might not want to keep a record of that bit of code.</p>
<p>Consider the example code below. The 2nd, 3rd, and 5th lines do absolutely nothing to our computations with x and y. They are just for our own workings. Because lines like this have no consequences on code below, our R script will have the same end-point with and without those line.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">*</span><span class="dv">33</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">6</span><span class="sc">/</span><span class="dv">100</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>?mean</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>answer <span class="ot">&lt;-</span> x<span class="sc">*</span>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In general, the vast majority of the code you write will be in the script, and you will only use the console occasionally for quick commands that aren’t doing anything to change our analysis. For example, we don’t want to keep <strong>re-</strong>installing packages over and over again (each time we run a script), so we’ll tend to use <code>install.packages()</code> in the console. Similarly, when we look up the help documentation for a function (e.g.&nbsp;by running <code>?mean</code>), we type that into the console, and not a script.</p>
<p>This will become second nature as you use R more and more, but it’s helpful to get into good habits early on.</p>
<div class="sticky">
<p><strong>Rules of thumb</strong></p>
<ul>
<li>If a line of code changes something in the environment, then that code should be written in the script.<br>
</li>
<li>If you clear your environment, restart R, and run your script all at once (see the section on <a href="01a_R.html#Good_Habits" target="_blank">‘Good Habits’ in Section 1A</a>), it shouldn’t produce errors and should get you back to your current place</li>
</ul>
<p>If we don’t follow the above suggestions, then our work will not be* <strong>reproducible</strong> (e.g.&nbsp;you send your script to someone and they will get a different answer from you when they run it).</p>
</div>
<div class="divider div-transparent div-dot">

</div>
</section>
<section id="basic-data-wrangling" class="level1">
<h1>Basic Data Wrangling</h1>
<p>Now that we’ve started to learn about vectors and dataframes, we’re going to look at reading in some data, exploring some of the variables, and the syntax we can use to access and edit certain bits of a dataset.</p>
<p>First we’ll read in some data:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>starwars2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://uoepsy.github.io/data/starwars2.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="rtip">
<p><strong>Reading data from a URL</strong></p>
<p>Note that when you have a url for some data (e.g.&nbsp;<a href="https://raw.githubusercontent.com/uoepsy/data/master/starwars2.csv">this</a>) you can read it in directly by giving functions like <code>read.csv()</code> the url inside quotation marks.</p>
</div>
<p>The data contains information on various characteristics of characters from Star Wars. We can print out the top of the data by using the <code>head()</code> function which displays the first six rows of the data by default. You could change this by saying, for example, <code>head(data, n = 10)</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(starwars2, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 name height    hair_color eye_color homeworld species
1      Luke Skywalker    172         blond      blue  Tatooine   Human
2               C-3PO    167          &lt;NA&gt;    yellow  Tatooine   Human
3               R2-D2     96          &lt;NA&gt;       red     Naboo   Droid
4         Darth Vader    202          none    yellow  Tatooine   Human
5         Leia Organa    150         brown     brown  Alderaan   Human
6           Owen Lars    178   brown, grey      blue  Tatooine   Human
7  Beru Whitesun lars    165         brown      blue  Tatooine   Human
8               R5-D4     97          &lt;NA&gt;       red  Tatooine   Droid
9   Biggs Darklighter    183         black     brown  Tatooine   Human
10     Obi-Wan Kenobi    182 auburn, white blue-gray   Stewjon   Human</code></pre>
</div>
</div>
<p><em>(Don’t worry about the</em> NAs <em>for now, they are just how R tells you an entry is missing, i.e.&nbsp;Not Available.)</em></p>
<div class="rtip">
<p><strong>Tip:</strong> Try clicking on the data in your <strong>environment</strong> (the top right window of RStudio). It will open the data in a tab in the editor window - this is another way of looking at the data, more like you would in spreadsheet software like Microsoft Excel. This can be time-consuming if your data file is big.</p>
</div>
<p>We can take a look at how big the data is (the dimensions), using <code>dim()</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(starwars2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 75  6</code></pre>
</div>
</div>
<p>We can see that there are 75 rows and 6 columns. In this dataset, each Star Wars character is an <strong>observational unit</strong>, and there are 6 <strong>variables</strong> (things which vary between units) such as their <em>height</em>, <em>species</em>, <em>homeworld</em>, etc.</p>
<div class="statbox">
<p><strong>observations and variables</strong></p>
<p>The individual entities on which data are collected are called <strong>observational units</strong> or <strong>cases</strong>. Often (but not always), these equate to the rows of a dataset.</p>
<p>A <strong>variable</strong> is any characteristic that varies from observational unit to observational unit (these are often the columns of the dataset)</p>
</div>
<section id="accessing-subsets-of-data" class="level2">
<h2 class="anchored" data-anchor-id="accessing-subsets-of-data">Accessing subsets of data</h2>
<p>What if we want to extract certain subsections of our dataset, such as specific observational units or variables? This is where we learn about two important bits of R code used to access parts of data - the dollar sign <code>$</code>, and the square brackets <code>[]</code>.</p>
<div class="rtip">
<p><strong>The dollar sign $</strong></p>
<p>The dollar sign allows us to extract a specific variable from a dataframe. For instance, we can pull out the variable named “eye_color” in the data, by using <code>$eye_color</code> after the name that we gave our dataframe.</p>
<p>Remember that each variable in a dataframe is a vector (a set of values). Once extracted, we will have a vector and not a dataframe.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>eye_color</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "blue"          "yellow"        "red"           "yellow"       
 [5] "brown"         "blue"          "blue"          "red"          
 [9] "brown"         "blue-gray"     "blue"          "blue"         
[13] "blue"          "brown"         "black"         "orange"       
[17] "hazel"         "blue"          "yellow"        "brown"        
[21] "red"           "brown"         "blue"          "orange"       
[25] "blue"          "brown"         "black"         "red"          
[29] "blue"          "orange"        "orange"        "orange"       
[33] "yellow"        "orange"        NA              "brown"        
[37] "yellow"        "pink"          "hazel"         "yellow"       
[41] "black"         "orange"        "brown"         "yellow"       
[45] "black"         "brown"         "blue"          "orange"       
[49] "yellow"        "black"         "blue"          "brown"        
[53] "brown"         "blue"          "yellow"        "blue"         
[57] "blue"          "brown"         "brown"         "brown"        
[61] "brown"         "yellow"        "yellow"        "black"        
[65] "black"         "blue"          "unknown"       "unknown"      
[69] "gold"          "black"         "green, yellow" "blue"         
[73] "brown"         "black"         NA             </code></pre>
</div>
</div>
</div>
<div class="rtip">
<p><strong>The square brackets []</strong></p>
<p>Square brackets are used to do what is known as <strong>indexing</strong> (finding specific entries in your data).<br>
We can retrieve bits of data by identifying the <span class="math inline">\(i^{th}\)</span> entry(s) inside the square brackets, for instance:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign the numbers 10, 20 ... 100 to the name "somevalues"</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>somevalues <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">100</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># pull out the 3rd entry</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>somevalues[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
In the above example, we have a <strong>vector</strong> (a single sequence of values), and so we can retrieve entries with the syntax:
<center>
<strong>vector[entry]</strong>
</center>
<br> In a <strong>dataframe</strong> we have an extra dimension - we have rows <em>and</em> columns. Using square brackets with a dataframe needs us to specify both:<br>

<center>
<strong>dataframe[rows, columns]</strong>
</center>
</div>
<p>Let’s look at some examples:</p>
<div class="panelset">
<section id="examples-of-indexing" class="level4 panel">
<h4 class="anchored" data-anchor-id="examples-of-indexing">Examples of Indexing</h4>
<ol type="1">
<li>Specifying row number and column number:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first row, fourth column</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">1</span>, <span class="dv">4</span>]</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co"># tenth row, first column</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">10</span>, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>If we leave either rows or columns blank, then we will get out <strong>all</strong> of them:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tenth row, all columns</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">10</span>, ]</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># all rows, 2nd column</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>starwars2[ , <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>There are is another way to identify column - we can use the name in quotation marks:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first row, "species" column</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">1</span>, <span class="st">"species"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>We can also ask for multiple rows, or multiple columns, or both! To do that, we use <code>c()</code>:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the 1st AND the 6th rows, and the 1st AND 3rd columns</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">6</span>), <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>And we can specify a sequence using the colon, <code>from:to</code>:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># FROM the 1st TO the 6th row, all columns</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, ] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>Why? Because the colon operator, `from:to`, creates a vector from the value     `from` to the value `to` in steps of 1.</code></pre>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>We can even use the two accessors in combination:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the variable called "name" and show the 20th entry</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>name[<span class="dv">20</span>]  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>This represents the 20th name in the data.  
Note: When we do this, we don't have the comma inside the square brackets. When we use the `$` to pull out a variable, such as `starwars2$name`, we no longer have a dataframe - `starwars2$name` doesn't have rows and columns, it just has a series of values - _it's a vector!_. So when you are using `[]` with a __vector__ (1 dimension) rather than a __dataframe__ (2 dimensions), you don't specify `[rows, columns]`, but simply `[entry]`. </code></pre>
</section>
<section id="show-me-the-output" class="level4 panel">
<h4 class="anchored" data-anchor-id="show-me-the-output">Show me the output</h4>
<ol type="1">
<li>Specifying row number and column number:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first row, fourth column</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">1</span>, <span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "blue"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tenth row, first column</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">10</span>, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Obi-Wan Kenobi"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>If we leave either rows or columns blank, then we will get out <strong>all</strong> of them:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tenth row, all columns</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">10</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             name height    hair_color eye_color homeworld species
10 Obi-Wan Kenobi    182 auburn, white blue-gray   Stewjon   Human</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all rows, 2nd column</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>starwars2[ , <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 172 167  96 202 150 178 165  97 183 182 188 180 228 180 173 175 170 180 170
[20] 183 190 177 175 180 150  88 160 191 170 196 224 206 137 112 170 163 175 180
[39] 178  94 122 163 188 198 196 171 184 188 264 188 196 185 157 183 183 170 166
[58] 165 193 191 183 168 198 229 213 167  79 193 191 178 216 234 188 206 180</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>There are is another way to identify column - we can use the name in quotation marks:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first row, "species" column</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">1</span>, <span class="st">"species"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Human"</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>We can also ask for multiple rows, or multiple columns, or both! To do that, we use <code>c()</code>:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the 1st AND the 6th rows, and the 1st AND 3rd columns</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">6</span>), <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            name  hair_color
1 Luke Skywalker       blond
6      Owen Lars brown, grey</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>And we can specify a sequence using the colon, <code>from:to</code>:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># FROM the 1st TO the 6th row, all columns</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, ] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            name height  hair_color eye_color homeworld species
1 Luke Skywalker    172       blond      blue  Tatooine   Human
2          C-3PO    167        &lt;NA&gt;    yellow  Tatooine   Human
3          R2-D2     96        &lt;NA&gt;       red     Naboo   Droid
4    Darth Vader    202        none    yellow  Tatooine   Human
5    Leia Organa    150       brown     brown  Alderaan   Human
6      Owen Lars    178 brown, grey      blue  Tatooine   Human</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>We can even use the two accessors in combination:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the variable called "name" and show the 20th entry</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>name[<span class="dv">20</span>]  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Boba Fett"</code></pre>
</div>
</div>
</section>
</div>
<div class="sticky">
<p><strong>The dollar sign $</strong></p>
<p>Used to extract a variable from a dataframe:</p>
<ul>
<li><code>dataframe$variable</code></li>
</ul>
<p><strong>The square brackets []</strong></p>
<p>Used to extract parts of an R object by identifying rows and/or columns, or more generally, “entries”. Left blank will return all.</p>
<ul>
<li><code>vector[entries]</code></li>
<li><code>dataframe[rows, columns]</code></li>
</ul>
</div>
</section>
<section id="accessing-by-a-condition" class="level2">
<h2 class="anchored" data-anchor-id="accessing-by-a-condition">Accessing by a condition</h2>
<p>We can also do something really useful, which is to access all the entries in the data for which <em>a specific condition</em> is true.</p>
<p>Let’s take a simple example to start:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>somevalues <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">40</span>, <span class="dv">10</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To only select values which are greater than 20, we can use:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>somevalues[somevalues <span class="sc">&gt;</span> <span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 40 40 50 35</code></pre>
</div>
</div>
<div class="rtip">
<p>Unpacking: <code>somevalues[somevalues &gt; 20]</code><br>
<br> First, let’s look at what <code>somevalues &gt; 20</code> does. It returns TRUE for the entries of <code>somevalues</code> which are greater than 20, and FALSE for the entries of <code>somevalues</code> that are not (that is, which are less than, or equal to, 20.</p>
<p>This statement <code>somevalues &gt; 20</code> is called the <strong>condition</strong>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>somevalues <span class="sc">&gt;</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE</code></pre>
</div>
</div>
<p>We can give a name to this sequence of TRUEs and FALSEs</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>condition <span class="ot">&lt;-</span> somevalues <span class="sc">&gt;</span> <span class="dv">20</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>condition</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE</code></pre>
</div>
</div>
<p>Now consider putting the sequence of TRUEs and FALSEs inside the square brackets in <code>somevalues[]</code>. This returns only the entries of <code>somevalues</code> for which the condition is <code>TRUE</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>somevalues[condition]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 40 40 50 35</code></pre>
</div>
</div>
<p>So what we can do is use a <strong>condition</strong> inside the square brackets to return all the values for which that condition is TRUE.</p>
<p>Note that you don’t have to always give a name to the condition. This works too:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>somevalues[somevalues <span class="sc">&gt;</span> <span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 40 40 50 35</code></pre>
</div>
</div>
</div>
<p><br> We can extend this same logic to a dataframe. Let’s suppose we want to access all the entries in our Star Wars data who have the value “Droid” in the <em>species</em> variable. To work out how to do this, we first need a line of code which defines our <strong>condition</strong> - one which returns <code>TRUE</code> for each entry of the <em>species</em> variable which is “Droid”, and <code>FALSE</code> for those that are not “Droid”.</p>
<p>We can use the dollar sign to pull out the <em>species</em> variable:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>species</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Human"        "Human"        "Droid"        "Human"        "Human"       
 [6] "Human"        "Human"        "Droid"        "Human"        "Human"       
[11] "Human"        "Human"        "Wookiee"      "Human"        "Rodian"      
[16] "Hutt"         "Human"        "Human"        "Human"        "Human"       
[21] "Trandoshan"   "Human"        "Human"        "Mon Calamari" "Human"       
[26] "Ewok"         "Sullustan"    "Neimodian"    "Human"        "Gungan"      
[31] "Gungan"       "Gungan"       "Toydarian"    "Dug"          "unknown"     
[36] "Human"        "Zabrak"       "Twi'lek"      "Twi'lek"      "Vulptereen"  
[41] "Xexto"        "Toong"        "Human"        "Cerean"       "Nautolan"    
[46] "Zabrak"       "Tholothian"   "Iktotchi"     "Quermian"     "Kel Dor"     
[51] "Chagrian"     "Human"        "Human"        "Human"        "Geonosian"   
[56] "Mirialan"     "Mirialan"     "Human"        "Human"        "Human"       
[61] "Human"        "Clawdite"     "Besalisk"     "Kaminoan"     "Kaminoan"    
[66] "Human"        "Aleena"       "Skakoan"      "Muun"         "Togruta"     
[71] "Kaleesh"      "Wookiee"      "Human"        "Pau'an"       "unknown"     </code></pre>
</div>
</div>
<p>And we can ask R whether each value <strong>is equal to</strong> “Droid” (<em>Remember:</em> in R, we ask whether something <strong>is equal to</strong> something else by using a double-equals, <code>==</code>). A single equal sign would be wrong, as it denotes assignment.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>species <span class="sc">==</span> <span class="st">"Droid"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE
[13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[73] FALSE FALSE FALSE</code></pre>
</div>
</div>
<p>Finally, we can use this condition inside our square brackets to access the entries of the data for which this condition is TRUE:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I would read the code below as: </span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="co"># "In the starwars2 dataframe, give me all the rows for which the</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># condition starwars2$species=="Droid" is TRUE, and give me all the columns."</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>starwars2[starwars2<span class="sc">$</span>species <span class="sc">==</span> <span class="st">"Droid"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name height hair_color eye_color homeworld species
3 R2-D2     96       &lt;NA&gt;       red     Naboo   Droid
8 R5-D4     97       &lt;NA&gt;       red  Tatooine   Droid</code></pre>
</div>
</div>
<!-- 

<div class="optional-begin"><span id='opt-start-1' class="fa fa-hand-o-right optional-icon clickable" onclick="toggle_visibility('opt-body-1', 'opt-start-1')"> <span class="olab">Optional: with().</span></span></div><div class="optional-body" id = "opt-body-1" style="display: none;">

 -->
<!-- A useful function is `with()`. This creates a "container" where the variables of the dataframe are available to R within the `with()` parentheses without the need to use `$`: -->
<!-- ```{r} -->
<!-- with(starwars2, starwars2[species == "Droid", ]) -->
<!-- ``` -->
<!-- 

</div><p class="optional-end"></p>

 -->
</section>
<section id="more-complex-conditions" class="level2">
<h2 class="anchored" data-anchor-id="more-complex-conditions">More complex conditions</h2>
<p>Thinking back to Section 1A when we first introduced R, we <a href="01a_R.html#R_is_a_calculator" target="_blank">talked briefly about “logical operators”</a>. Specifically, the operators <code>&amp;</code>, <code>|</code>, and <code>!</code> (for “and”, “or”,” and “not”), will come in handy now.</p>
<p>For instance, we can now extract all those in the dataset which are humans <em>and</em> taller than 190cm:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># "In the starwars2 dataframe, give me all the rows for which the</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co"># condition starwars2$species=="Human" AND starwars2$height &gt; 190 are TRUE, </span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and give me all the columns."</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>starwars2[starwars2<span class="sc">$</span>species <span class="sc">==</span> <span class="st">"Human"</span> <span class="sc">&amp;</span> starwars2<span class="sc">$</span>height <span class="sc">&gt;</span> <span class="dv">190</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  name height hair_color eye_color homeworld species
4          Darth Vader    202       none    yellow  Tatooine   Human
59               Dooku    193      white     brown   Serenno   Human
60 Bail Prestor Organa    191      black     brown  Alderaan   Human</code></pre>
</div>
</div>
<p>Or we can extract all those in the dataset which are <em>either</em> droids <em>or</em> ewoks:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># "In the starwars2 dataframe, give me all the rows for which the</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="co"># condition starwars2$species=="Droid" OR starwars2$species=="Ewok" is TRUE, </span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and give me all the columns."</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>starwars2[starwars2<span class="sc">$</span>species <span class="sc">==</span> <span class="st">"Droid"</span> <span class="sc">|</span> starwars2<span class="sc">$</span>species <span class="sc">==</span> <span class="st">"Ewok"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    name height hair_color eye_color homeworld species
3                  R2-D2     96       &lt;NA&gt;       red     Naboo   Droid
8                  R5-D4     97       &lt;NA&gt;       red  Tatooine   Droid
26 Wicket Systri Warrick     88      brown     brown     Endor    Ewok</code></pre>
</div>
</div>
</section>
<section id="editing-specific-entries" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="editing-specific-entries">Editing specific entries</h2>
<p>Now that we’ve seen a few ways of <em>accessing</em> sections of data, we can learn how to edit them! One of the most common reasons you will need to modify entries in your data is in <strong>data cleaning</strong>. This is the process of identifying incorrect/incomplete/irrelevant data, and replacing/modifying/deleting them.</p>
<p>Above, we looked at the subsection of the data where the <em>species</em> variable had the entry “Droid”. Some of you may have noticed earlier that we had some data on C3PO. Is he not also a droid?</p>
<center>
<img src="images/categorical/c3po.png" class="img-fluid">
</center>
<p>(Looks pretty Droid-y to me! <em>disclaimer: I know nothing about Star Wars</em> 🙂 )</p>
<p>Just as we saw above how to <em>access</em> specific entries, e.g.:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2nd row, all columns</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">2</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name height hair_color eye_color homeworld species
2 C-3PO    167       &lt;NA&gt;    yellow  Tatooine   Human</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2nd row, 6th column (the "species" column)</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">2</span>,<span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Human"</code></pre>
</div>
</div>
<p>We can change these by <strong>assigning them a new value</strong> (remember the <code>&lt;-</code> symbol). In doing so, we <em>replace</em> / <em>overwrite</em> / <em>reassign</em> the entry in the 2nd row and 6th column of the data (<code>starwars2[2,6]</code>) with the value “Droid”.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># C3PO is a droid, not a human</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">2</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="st">"Droid"</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the 2nd row now -</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the entry in the "species" column has changed:</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="dv">2</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name height hair_color eye_color homeworld species
2 C-3PO    167       &lt;NA&gt;    yellow  Tatooine   Droid</code></pre>
</div>
</div>
</section>
<section id="editing-entries-via-a-condition" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="editing-entries-via-a-condition">Editing entries via a condition</h2>
<p>We saw above how to access parts of data by means of a <strong>condition</strong>, with code such as:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># "In the starwars2 dataframe, give me all the rows for which the</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># condition starwars2$homeworld=="Naboo" is TRUE, and give me all the columns."</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>starwars2[starwars2<span class="sc">$</span>homeworld<span class="sc">==</span><span class="st">"Naboo"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            name height hair_color eye_color homeworld species
3          R2-D2     96       &lt;NA&gt;       red     Naboo   Droid
19     Palpatine    170       grey    yellow     Naboo   Human
30 Jar Jar Binks    196       none    orange     Naboo  Gungan
31  Roos Tarpals    224       none    orange     Naboo  Gungan
32    Rugor Nass    206       none    orange     Naboo  Gungan
52  Gregar Typho    185      black     brown     Naboo   Human
53         Cordé    157      brown     brown     Naboo   Human
58         Dormé    165      brown     brown     Naboo   Human</code></pre>
</div>
</div>
<p>What if we wanted to modify it so that every character from “Naboo” was actually of species “Nabooian”?</p>
<p>We can do that in a number of ways, all of which do the same thing - namely, they access parts of the data and assign them the new value “Nabooian”.</p>
<p>Study the lines of code below and their interpretations:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In the starwars2 data, give the rows for which condition </span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co"># starwars2$homeworld=="Naboo" is TRUE, and select only the "species" column. </span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign to these selected entries the value "Nabooian".</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>starwars2[starwars2<span class="sc">$</span>homeworld<span class="sc">==</span><span class="st">"Naboo"</span>, <span class="st">"species"</span>] <span class="ot">&lt;-</span> <span class="st">"Nabooian"</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a><span class="co"># In the starwars2 data, give the rows for which condition </span></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="co"># starwars2$homeworld=="Naboo" is TRUE, and select only the 6th column. </span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign to these selected entries the value "Nabooian".</span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>starwars2[starwars2<span class="sc">$</span>homeworld<span class="sc">==</span><span class="st">"Naboo"</span>, <span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="st">"Nabooian"</span></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the species variable from the starwars2 data (it's a vector).</span></span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Pick the entries for which the condition starwars2$homeworld=="Naboo" is TRUE.</span></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign to these selected entries the value "Nabooian".</span></span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>species[starwars2<span class="sc">$</span>homeworld<span class="sc">==</span><span class="st">"Naboo"</span>] <span class="ot">&lt;-</span> <span class="st">"Nabooian"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="addingchanging-a-variable" class="level2">
<h2 class="anchored" data-anchor-id="addingchanging-a-variable">Adding/Changing a variable</h2>
<p>Another thing we might want to do is change a whole variable (a whole column) in some way.<br>
The logic is exactly the same, for instance, we can take the variable “height” from the dataframe “starwars2”, dividing it by 100 via <code>starwars2$height / 100</code>, and then assign the result to the same variable name in the data, i.e.&nbsp;we overwrite the column:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>height <span class="ot">&lt;-</span> starwars2<span class="sc">$</span>height <span class="sc">/</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We could instead have added a <em>new column</em> named “height_m” with those values if we did not want to overwrite “height”:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>starwars2<span class="sc">$</span>height_m <span class="ot">&lt;-</span> starwars2<span class="sc">$</span>height <span class="sc">/</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This would have left the “height” variable as-is, and created a new one called “height2” which was the values in “height” divided by 100.</p>
</section>
<section id="removing-rows-or-columns" class="level2">
<h2 class="anchored" data-anchor-id="removing-rows-or-columns">Removing rows or columns</h2>
<p>Lastly, we might want to change the data by removing a row or a column. Again, the logic remains the same, in that we use <code>&lt;-</code> to assign the edited data to a name (either a new name, thus creating a new object, or an existing name, thereby <em>overwriting</em> that object).</p>
<p>For instance, notice that the 35th and 75th rows of our data probably aren’t a valid observation - I’m reasonably sure that Marge and Homer Simpson never appeared in Star Wars:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="fu">c</span>(<span class="dv">35</span>,<span class="dv">75</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            name height hair_color eye_color   homeworld species
35 Marge Simpson    1.7       Blue      &lt;NA&gt; Springfield unknown
75 Homer Simpson    1.8       &lt;NA&gt;      &lt;NA&gt; Springfield unknown</code></pre>
</div>
</div>
<p>We can remove a certain row(s) by using a minus sign <code>-</code> inside the square brackets</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># everything minus the 75th row</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="sc">-</span><span class="dv">75</span>, ]</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="co"># everything minus the (35th and 75th rows)</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>starwars2[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">75</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And we can simply <em>re-use</em> the name “starwars2” to overwrite the data and make this change take effect (rather than just print out the result, which the code above did):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>starwars2 <span class="ot">&lt;-</span> starwars2[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">75</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(now, in the <strong>environment</strong> pane of Rstudio, the object named “starwars2” will say 73 observations, rather than 75, which it had before - we’ve removed the 2 rows)</p>
<p><br> The same logic applies for columns:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new object called "anonymous_starwars2" and assign it </span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to the values which are the "starwars2" dataframe minus the </span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1st column (the "name" column):</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>anonymous_starwars2 <span class="ot">&lt;-</span> starwars2[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions of our initial data</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(starwars2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 73  6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the data we just assigned has one fewer columns</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(anonymous_starwars2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 73  5</code></pre>
</div>
</div>
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1" role="doc-endnote"><p>To save as .csv in Microsoft Excel, we go to <strong>File &gt; Save as</strong>, and then in the Save as Type box, choose to save the file as <strong>CSV (Comma delimited)</strong><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>